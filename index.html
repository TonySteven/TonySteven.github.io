<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Genesis">
<meta property="og:url" content="https://tonysteven.github.io/index.html">
<meta property="og:site_name" content="Genesis">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Genesis">






  <link rel="canonical" href="https://tonysteven.github.io/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Genesis</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Genesis</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tonysteven.github.io/2017/12/14/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Steven Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Genesis">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/14/hello-world/" itemprop="url">
                  HTTP和HTTPS
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-12-14 15:10:03" itemprop="dateCreated datePublished" datetime="2017-12-14T15:10:03+08:00">2017-12-14</time>
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<ul>
<li>HTTP协议（HyperText Transfer Protocol，超文本传输协议）：是一种发布和接收 HTML页面的方法。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>HTTPS（Hypertext Transfer Protocol over Secure Socket Layer）简单讲是HTTP的安全版，在HTTP下加入SSL层</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>SSL（Secure Sockets Layer 安全套接层）主要用于Web的安全传输协议，在传输层对网络连接进行加密，保障在Internet上数据传输的安全。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>HTTP的端口号为80，</li>
<li>HTTPS的端口号为443</li>
</ul>
</blockquote>
<blockquote>
<p>URL（Uniform / Universal Resource Locator的缩写）：统一资源定位符，是用于完整地描述Internet上网页和其他资源的地址的一种标识方法。</p>
</blockquote>
<blockquote>
<p>基本格式：<code>scheme://host[:port#]/path/…/[?query-string][#anchor]</code></p>
</blockquote>
<ul>
<li>scheme：协议(例如：http, https, ftp)</li>
<li>host：服务器的IP地址或者域名</li>
<li>port#：服务器的端口（如果是走协议默认端口，缺省端口80）</li>
<li>path：访问资源的路径</li>
<li>query-string：参数，发送给http服务器的数据</li>
<li>anchor：锚（跳转到网页的指定锚点位置）</li>
</ul>
<p>e.g.</p>
<ul>
<li><a href="ftp://192.168.0.116:8080/index" target="_blank" rel="noopener">ftp://192.168.0.116:8080/index</a></li>
<li><a href="https://www.baidu.com" target="_blank" rel="noopener">https://www.baidu.com</a></li>
</ul>
<h2 id="客户端HTTP请求"><a href="#客户端HTTP请求" class="headerlink" title="客户端HTTP请求"></a>客户端HTTP请求</h2><p>URL只是标识资源的位置，而HTTP是用来提交和获取资源。客户端发送一个HTTP请求到服务器的请求消息，包括以下格式：</p>
<ol>
<li>请求行</li>
<li>请求头部</li>
<li>空行</li>
</ol>
<h2 id="请求方法"><a href="#请求方法" class="headerlink" title="请求方法"></a>请求方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET https://www.baidu.com/ HTTP/1.1</span><br></pre></td></tr></table></figure>
<p>根据HTTP标准，HTTP请求可以使用多种请求方法。</p>
<p>HTTP 0.9：只有基本的文本 GET 功能。</p>
<p>HTTP 1.0：完善的请求/响应模型，并将协议补充完整，定义了三种请求方法： GET, POST 和 HEAD方法。</p>
<p>HTTP 1.1：在 1.0 基础上进行更新，新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。</p>
<p>HTTP 2.0（未普及）：请求/响应首部的定义基本没有改变，只是所有首部键必须全部小写，而且请求行要独立为 :method、:scheme、:host、:path这些键值对。</p>
<hr>
<ol>
<li>GET    请求指定的页面信息，并返回实体主体。</li>
<li>HEAD    类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头</li>
<li>POST    向指定资源提交数据进行处理请求（例如提交表单或者上传文件），数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。</li>
<li>PUT    从客户端向服务器传送的数据取代指定的文档的内容。</li>
<li>DELETE    请求服务器删除指定的页面。</li>
<li>CONNECT    HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。</li>
<li>OPTIONS    允许客户端查看服务器的性能。</li>
<li>TRACE    回显服务器收到的请求，主要用于测试或诊断。</li>
</ol>
<h3 id="常见的HTTP状态码"><a href="#常见的HTTP状态码" class="headerlink" title="常见的HTTP状态码"></a>常见的HTTP状态码</h3><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1xx:信息</span><br><span class="line"></span><br><span class="line">100 Continue</span><br><span class="line">服务器仅接收到部分请求，但是一旦服务器并没有拒绝该请求，客户端应该继续发送其余的请求。</span><br><span class="line">101 Switching Protocols</span><br><span class="line">服务器转换协议：服务器将遵从客户的请求转换到另外一种协议。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2xx:成功</span><br><span class="line"></span><br><span class="line">200 OK</span><br><span class="line">请求成功（其后是对GET和POST请求的应答文档）</span><br><span class="line">201 Created</span><br><span class="line">请求被创建完成，同时新的资源被创建。</span><br><span class="line">202 Accepted</span><br><span class="line">供处理的请求已被接受，但是处理未完成。</span><br><span class="line">203 Non-authoritative Information</span><br><span class="line">文档已经正常地返回，但一些应答头可能不正确，因为使用的是文档的拷贝。</span><br><span class="line">204 No Content</span><br><span class="line">没有新文档。浏览器应该继续显示原来的文档。如果用户定期地刷新页面，而Servlet可以确定用户文档足够新，这个状态代码是很有用的。</span><br><span class="line">205 Reset Content</span><br><span class="line">没有新文档。但浏览器应该重置它所显示的内容。用来强制浏览器清除表单输入内容。</span><br><span class="line">206 Partial Content</span><br><span class="line">客户发送了一个带有Range头的GET请求，服务器完成了它。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3xx:重定向</span><br><span class="line"></span><br><span class="line">300 Multiple Choices</span><br><span class="line">多重选择。链接列表。用户可以选择某链接到达目的地。最多允许五个地址。</span><br><span class="line">301 Moved Permanently</span><br><span class="line">所请求的页面已经转移至新的url。</span><br><span class="line">302 Moved Temporarily</span><br><span class="line">所请求的页面已经临时转移至新的url。</span><br><span class="line">303 See Other</span><br><span class="line">所请求的页面可在别的url下被找到。</span><br><span class="line">304 Not Modified</span><br><span class="line">未按预期修改文档。客户端有缓冲的文档并发出了一个条件性的请求（一般是提供If-Modified-Since头表示客户只想比指定日期更新的文档）。服务器告诉客户，原来缓冲的文档还可以继续使用。</span><br><span class="line">305 Use Proxy</span><br><span class="line">客户请求的文档应该通过Location头所指明的代理服务器提取。</span><br><span class="line">306 Unused</span><br><span class="line">此代码被用于前一版本。目前已不再使用，但是代码依然被保留。</span><br><span class="line">307 Temporary Redirect</span><br><span class="line">被请求的页面已经临时移至新的url。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4xx:客户端错误</span><br><span class="line"></span><br><span class="line">400 Bad Request</span><br><span class="line">服务器未能理解请求。</span><br><span class="line">401 Unauthorized</span><br><span class="line">被请求的页面需要用户名和密码。</span><br><span class="line">401.1</span><br><span class="line">登录失败。</span><br><span class="line">401.2</span><br><span class="line">服务器配置导致登录失败。</span><br><span class="line">401.3</span><br><span class="line">由于 ACL 对资源的限制而未获得授权。</span><br><span class="line">401.4</span><br><span class="line">筛选器授权失败。</span><br><span class="line">401.5</span><br><span class="line">ISAPI/CGI 应用程序授权失败。</span><br><span class="line">401.7</span><br><span class="line">访问被 Web 服务器上的 URL 授权策略拒绝。这个错误代码为 IIS 6.0 所专用。</span><br><span class="line">402 Payment Required</span><br><span class="line">此代码尚无法使用。</span><br><span class="line">403 Forbidden</span><br><span class="line">对被请求页面的访问被禁止。</span><br><span class="line">403.1</span><br><span class="line">执行访问被禁止。</span><br><span class="line">403.2</span><br><span class="line">读访问被禁止。</span><br><span class="line">403.3</span><br><span class="line">写访问被禁止。</span><br><span class="line">403.4</span><br><span class="line">要求 SSL。</span><br><span class="line">403.5</span><br><span class="line">要求 SSL 128。</span><br><span class="line">403.6</span><br><span class="line">IP 地址被拒绝。</span><br><span class="line">403.7</span><br><span class="line">要求客户端证书。</span><br><span class="line">403.8</span><br><span class="line">站点访问被拒绝。</span><br><span class="line">403.9</span><br><span class="line">用户数过多。</span><br><span class="line">403.10</span><br><span class="line">配置无效。</span><br><span class="line">403.11</span><br><span class="line">密码更改。</span><br><span class="line">403.12</span><br><span class="line">拒绝访问映射表。</span><br><span class="line">403.13</span><br><span class="line">客户端证书被吊销。</span><br><span class="line">403.14</span><br><span class="line">拒绝目录列表。</span><br><span class="line">403.15</span><br><span class="line">超出客户端访问许可。</span><br><span class="line">403.16</span><br><span class="line">客户端证书不受信任或无效。</span><br><span class="line">403.17</span><br><span class="line">客户端证书已过期或尚未生效。</span><br><span class="line">403.18</span><br><span class="line">在当前的应用程序池中不能执行所请求的 URL。这个错误代码为 IIS 6.0 所专用。</span><br><span class="line">403.19</span><br><span class="line">不能为这个应用程序池中的客户端执行 CGI。这个错误代码为 IIS 6.0 所专用。</span><br><span class="line">403.20</span><br><span class="line">Passport 登录失败。这个错误代码为 IIS 6.0 所专用。</span><br><span class="line">404 Not Found</span><br><span class="line">服务器无法找到被请求的页面。</span><br><span class="line">404.0</span><br><span class="line">没有找到文件或目录。</span><br><span class="line">404.1</span><br><span class="line">无法在所请求的端口上访问 Web 站点。</span><br><span class="line">404.2</span><br><span class="line">Web 服务扩展锁定策略阻止本请求。</span><br><span class="line">404.3</span><br><span class="line">MIME 映射策略阻止本请求。</span><br><span class="line">405 Method Not Allowed</span><br><span class="line">请求中指定的方法不被允许。</span><br><span class="line">406 Not Acceptable</span><br><span class="line">服务器生成的响应无法被客户端所接受。</span><br><span class="line">407 Proxy Authentication Required</span><br><span class="line">用户必须首先使用代理服务器进行验证，这样请求才会被处理。</span><br><span class="line">408 Request Timeout</span><br><span class="line">请求超出了服务器的等待时间。</span><br><span class="line">409 Conflict</span><br><span class="line">由于冲突，请求无法被完成。</span><br><span class="line">410 Gone</span><br><span class="line">被请求的页面不可用。</span><br><span class="line">411 Length Required</span><br><span class="line">&quot;Content-Length&quot; 未被定义。如果无此内容，服务器不会接受请求。</span><br><span class="line">412 Precondition Failed</span><br><span class="line">请求中的前提条件被服务器评估为失败。</span><br><span class="line">413 Request Entity Too Large</span><br><span class="line">由于所请求的实体的太大，服务器不会接受请求。</span><br><span class="line">414 Request-url Too Long</span><br><span class="line">由于url太长，服务器不会接受请求。当post请求被转换为带有很长的查询信息的get请求时，就会发生这种情况。</span><br><span class="line">415 Unsupported Media Type</span><br><span class="line">由于媒介类型不被支持，服务器不会接受请求。</span><br><span class="line">416 Requested Range Not Satisfiable</span><br><span class="line">服务器不能满足客户在请求中指定的Range头。</span><br><span class="line">417 Expectation Failed</span><br><span class="line">执行失败。</span><br><span class="line">423</span><br><span class="line">锁定的错误。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">5xx:服务器错误</span><br><span class="line"></span><br><span class="line">500 Internal Server Error</span><br><span class="line">请求未完成。服务器遇到不可预知的情况。</span><br><span class="line">500.12</span><br><span class="line">应用程序正忙于在 Web 服务器上重新启动。</span><br><span class="line">500.13</span><br><span class="line">Web 服务器太忙。</span><br><span class="line">500.15</span><br><span class="line">不允许直接请求 Global.asa。</span><br><span class="line">500.16</span><br><span class="line">UNC 授权凭据不正确。这个错误代码为 IIS 6.0 所专用。</span><br><span class="line">500.18</span><br><span class="line">URL 授权存储不能打开。这个错误代码为 IIS 6.0 所专用。</span><br><span class="line">500.100</span><br><span class="line">内部 ASP 错误。</span><br><span class="line">501 Not Implemented</span><br><span class="line">请求未完成。服务器不支持所请求的功能。</span><br><span class="line">502 Bad Gateway</span><br><span class="line">请求未完成。服务器从上游服务器收到一个无效的响应。</span><br><span class="line">502.1</span><br><span class="line">CGI 应用程序超时。　·</span><br><span class="line">502.2</span><br><span class="line">CGI 应用程序出错。</span><br><span class="line">503 Service Unavailable</span><br><span class="line">请求未完成。服务器临时过载或当机。</span><br><span class="line">504 Gateway Timeout</span><br><span class="line">网关超时。</span><br><span class="line">505 HTTP Version Not Supported</span><br><span class="line">服务器不支持请求中指明的HTTP协议版本</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tonysteven.github.io/2017/11/27/resumeexec/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Steven Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Genesis">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/27/resumeexec/" itemprop="url">
                  问题总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-11-27 19:59:15" itemprop="dateCreated datePublished" datetime="2017-11-27T19:59:15+08:00">2017-11-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-06-25 17:03:42" itemprop="dateModified" datetime="2018-06-25T17:03:42+08:00">2018-06-25</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="删除列表重复元素"><a href="#删除列表重复元素" class="headerlink" title="删除列表重复元素"></a>删除列表重复元素</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def deleteDuplicatedElementFromList3(listA):</span><br><span class="line">        #return list(set(listA))</span><br><span class="line">        return sorted(set(listA), key = listA.index)</span><br></pre></td></tr></table></figure>
<h4 id="python中拷贝一个对象"><a href="#python中拷贝一个对象" class="headerlink" title="python中拷贝一个对象"></a>python中拷贝一个对象</h4><blockquote>
<p><strong>如果需要拷贝对象，需要使用标准库中的<br>copy模块</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line">new_list = copy.copy(existing_list)</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="python单例模式"><a href="#python单例模式" class="headerlink" title="python单例模式"></a>python单例模式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    #coding=utf-8  </span><br><span class="line">    print &apos;----------------------方法1--------------------------&apos;  </span><br><span class="line">    #方法1,实现__new__方法  </span><br><span class="line">    #并在将一个类的实例绑定到类变量_instance上,  </span><br><span class="line">    #如果cls._instance为None说明该类还没有实例化过,实例化该类,并返回  </span><br><span class="line">    #如果cls._instance不为None,直接返回cls._instance  </span><br><span class="line">    class Singleton(object):  </span><br><span class="line">        def __new__(cls, *args, **kw):  </span><br><span class="line">            if not hasattr(cls, &apos;_instance&apos;):  </span><br><span class="line">                orig = super(Singleton, cls)  </span><br><span class="line">                cls._instance = orig.__new__(cls, *args, **kw)  </span><br><span class="line">            return cls._instance  </span><br><span class="line">      </span><br><span class="line">    class MyClass(Singleton):  </span><br><span class="line">        a = 1  </span><br><span class="line">      </span><br><span class="line">    one = MyClass()  </span><br><span class="line">    two = MyClass()  </span><br><span class="line">      </span><br><span class="line">    two.a = 3  </span><br><span class="line">    print one.a  </span><br><span class="line">    #3  </span><br><span class="line">    #one和two完全相同,可以用id(), ==, is检测  </span><br><span class="line">    print id(one)  </span><br><span class="line">    #29097904  </span><br><span class="line">    print id(two)  </span><br><span class="line">    #29097904  </span><br><span class="line">    print one == two  </span><br><span class="line">    #True  </span><br><span class="line">    print one is two  </span><br><span class="line">    #True</span><br><span class="line">    </span><br><span class="line">print &apos;----------------------方法2--------------------------&apos;  </span><br><span class="line">#方法2,共享属性;所谓单例就是所有引用(实例、对象)拥有相同的状态(属性)和行为(方法)  </span><br><span class="line">#同一个类的所有实例天然拥有相同的行为(方法),  </span><br><span class="line">#只需要保证同一个类的所有实例具有相同的状态(属性)即可  </span><br><span class="line">#所有实例共享属性的最简单最直接的方法就是__dict__属性指向(引用)同一个字典(dict)  </span><br><span class="line">#可参看:http://code.activestate.com/recipes/66531/  </span><br><span class="line">class Borg(object):  </span><br><span class="line">    _state = &#123;&#125;  </span><br><span class="line">    def __new__(cls, *args, **kw):  </span><br><span class="line">        ob = super(Borg, cls).__new__(cls, *args, **kw)  </span><br><span class="line">        ob.__dict__ = cls._state  </span><br><span class="line">        return ob  </span><br><span class="line">  </span><br><span class="line">class MyClass2(Borg):  </span><br><span class="line">    a = 1  </span><br><span class="line">  </span><br><span class="line">one = MyClass2()  </span><br><span class="line">two = MyClass2()  </span><br><span class="line">  </span><br><span class="line">#one和two是两个不同的对象,id, ==, is对比结果可看出  </span><br><span class="line">two.a = 3  </span><br><span class="line">print one.a  </span><br><span class="line">#3  </span><br><span class="line">print id(one)  </span><br><span class="line">#28873680  </span><br><span class="line">print id(two)  </span><br><span class="line">#28873712  </span><br><span class="line">print one == two  </span><br><span class="line">#False  </span><br><span class="line">print one is two  </span><br><span class="line">#False  </span><br><span class="line">#但是one和two具有相同的（同一个__dict__属性）,见:  </span><br><span class="line">print id(one.__dict__)  </span><br><span class="line">#30104000  </span><br><span class="line">print id(two.__dict__)  </span><br><span class="line">#30104000  </span><br><span class="line">  </span><br><span class="line">print &apos;----------------------方法3--------------------------&apos;  </span><br><span class="line">#方法3:本质上是方法1的升级（或者说高级）版  </span><br><span class="line">#使用__metaclass__（元类）的高级python用法  </span><br><span class="line">class Singleton2(type):  </span><br><span class="line">    def __init__(cls, name, bases, dict):  </span><br><span class="line">        super(Singleton2, cls).__init__(name, bases, dict)  </span><br><span class="line">        cls._instance = None  </span><br><span class="line">    def __call__(cls, *args, **kw):  </span><br><span class="line">        if cls._instance is None:  </span><br><span class="line">            cls._instance = super(Singleton2, cls).__call__(*args, **kw)  </span><br><span class="line">        return cls._instance  </span><br><span class="line">  </span><br><span class="line">class MyClass3(object):  </span><br><span class="line">    __metaclass__ = Singleton2  </span><br><span class="line">  </span><br><span class="line">one = MyClass3()  </span><br><span class="line">two = MyClass3()  </span><br><span class="line">  </span><br><span class="line">two.a = 3  </span><br><span class="line">print one.a  </span><br><span class="line">#3  </span><br><span class="line">print id(one)  </span><br><span class="line">#31495472  </span><br><span class="line">print id(two)  </span><br><span class="line">#31495472  </span><br><span class="line">print one == two  </span><br><span class="line">#True  </span><br><span class="line">print one is two  </span><br><span class="line">#True  </span><br><span class="line">  </span><br><span class="line">print &apos;----------------------方法4--------------------------&apos;  </span><br><span class="line">#方法4:也是方法1的升级（高级）版本,  </span><br><span class="line">#使用装饰器(decorator),  </span><br><span class="line">#这是一种更pythonic,更elegant的方法,  </span><br><span class="line">#单例类本身根本不知道自己是单例的,因为他本身(自己的代码)并不是单例的  </span><br><span class="line">def singleton(cls, *args, **kw):  </span><br><span class="line">    instances = &#123;&#125;  </span><br><span class="line">    def _singleton():  </span><br><span class="line">        if cls not in instances:  </span><br><span class="line">            instances[cls] = cls(*args, **kw)  </span><br><span class="line">        return instances[cls]  </span><br><span class="line">    return _singleton  </span><br><span class="line"> </span><br><span class="line">@singleton  </span><br><span class="line">class MyClass4(object):  </span><br><span class="line">    a = 1  </span><br><span class="line">    def __init__(self, x=0):  </span><br><span class="line">        self.x = x  </span><br><span class="line">  </span><br><span class="line">one = MyClass4()  </span><br><span class="line">two = MyClass4()  </span><br><span class="line">  </span><br><span class="line">two.a = 3  </span><br><span class="line">print one.a  </span><br><span class="line">#3  </span><br><span class="line">print id(one)  </span><br><span class="line">#29660784  </span><br><span class="line">print id(two)  </span><br><span class="line">#29660784  </span><br><span class="line">print one == two  </span><br><span class="line">#True  </span><br><span class="line">print one is two  </span><br><span class="line">#True  </span><br><span class="line">one.x = 1  </span><br><span class="line">print one.x  </span><br><span class="line">#1  </span><br><span class="line">print two.x  </span><br><span class="line">#1</span><br></pre></td></tr></table></figure>
<h4 id="lambda函数"><a href="#lambda函数" class="headerlink" title="lambda函数"></a>lambda函数</h4><ul>
<li>lambda存在意义就是对简单函数的简洁表示</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.g = lambda x:x+1</span><br><span class="line">or </span><br><span class="line">lambda x:x+1(1)</span><br><span class="line">means</span><br><span class="line">def g(x):</span><br><span class="line">    return x+1</span><br></pre></td></tr></table></figure>
<h4 id="python实现一个stack"><a href="#python实现一个stack" class="headerlink" title="python实现一个stack"></a>python实现一个stack</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">class Stack(object):</span><br><span class="line">    # 初始化栈为空列表</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.items = []</span><br><span class="line"></span><br><span class="line">    # 判断栈是否为空，返回布尔值</span><br><span class="line">    def is_empty(self):</span><br><span class="line">        return self.items == []</span><br><span class="line"></span><br><span class="line">    # 返回栈顶元素</span><br><span class="line">    def peek(self):</span><br><span class="line">        return self.items[len(self.items) - 1]</span><br><span class="line"></span><br><span class="line">    # 返回栈的大小</span><br><span class="line">    def size(self):</span><br><span class="line">        return len(self.items)</span><br><span class="line"></span><br><span class="line">    # 把新的元素堆进栈里面（程序员喜欢把这个过程叫做压栈，入栈，进栈……）</span><br><span class="line">    def push(self, item):</span><br><span class="line">        self.items.append(item)</span><br><span class="line"></span><br><span class="line">    # 把栈顶元素丢出去（程序员喜欢把这个过程叫做出栈……）</span><br><span class="line">    def pop(self, item):</span><br><span class="line">        return self.items.pop()</span><br><span class="line"></span><br><span class="line">if __name__ == __main__:</span><br><span class="line">    # 初始化一个栈对象</span><br><span class="line">    my_stack = Stack()</span><br><span class="line">    # 把&apos;h&apos;丢进栈里</span><br><span class="line">    my_stack.push(&apos;h&apos;)</span><br><span class="line">    # 把&apos;a&apos;丢进栈里</span><br><span class="line">    my_stack.push(&apos;a&apos;)</span><br><span class="line">    # 看一下栈的大小（有几个元素）</span><br><span class="line">    print my_stack.size()</span><br><span class="line">    # 打印栈顶元素</span><br><span class="line">    print my_stack.peek()</span><br><span class="line">    # 把栈顶元素丢出去，并打印出来</span><br><span class="line">    print my_stack.pop()</span><br><span class="line">    # 再看一下栈顶元素是谁</span><br><span class="line">    print my_stack.peek()</span><br><span class="line">    # 这个时候栈的大小是多少？</span><br><span class="line">    print my_stack.size()</span><br><span class="line">    # 再丢一个栈顶元素</span><br><span class="line">    print my_stack.pop()</span><br><span class="line">    # 看一下栈的大小</span><br><span class="line">    print my_stack.size</span><br><span class="line">    # 栈是不是空了？</span><br><span class="line">    print my_stack.is_empty()</span><br><span class="line">    # 哇~真好吃~</span><br><span class="line">    print &apos;Yummy~&apos;</span><br></pre></td></tr></table></figure>
<h4 id="str对象方法"><a href="#str对象方法" class="headerlink" title="str对象方法"></a>str对象方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">1. 首字母大写</span><br><span class="line"></span><br><span class="line">capitalize()</span><br><span class="line"></span><br><span class="line">s.capitalize()</span><br><span class="line">　　返回s的一份拷贝，并不改变s。如果 s 的首字符是一个字母，则拷贝的首字母将其改成大写，其余所有字母转成小写。</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; &apos;this is a test string.&apos;.capitalize()</span><br><span class="line">&apos;This is a test string.&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;_this is a test string.&apos;.capitalize()# 开头不是字母，不变</span><br><span class="line">&apos;_this is a test string.&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;this is A test string.&apos;.capitalize()# 除开头外的其他位置上的字母全转成小写</span><br><span class="line">&apos;This is a test string.&apos;</span><br><span class="line">　　</span><br><span class="line"></span><br><span class="line">2. 对齐方式</span><br><span class="line"></span><br><span class="line">（1）左右对齐　　ljust()、rjust()</span><br><span class="line"></span><br><span class="line">s.ljust(width[, fillchar])</span><br><span class="line">s.rjust(width[, fillchar])</span><br><span class="line">　　返回一个长度为 max(len(s), width) 的字符串，如果 width &gt; len(s)，则左/右对齐，并在另一端填充 fillchar</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; &apos;1234&apos;.rjust(8, &apos;#&apos;)</span><br><span class="line">&apos;####1234&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;1234&apos;.ljust(8, &apos;#&apos;)</span><br><span class="line">&apos;1234####&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;1234&apos;.ljust(2, &apos;#&apos;)</span><br><span class="line">&apos;1234&apos;</span><br><span class="line">（2）居中　　center()</span><br><span class="line"></span><br><span class="line">s.center(n, fillchar=&apos; &apos;)</span><br><span class="line">　　返回一个新的字符串，新字符串的长度为 max(len(s), n)，当 n &gt; len(s)时，使用参数 fillchar （默认为空格）填充新字符串中其余的位置，并将 s 置于新字符串的中部。</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; &apos;test&apos;.center(3)</span><br><span class="line">&apos;test&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;test&apos;.center(5)</span><br><span class="line">&apos; test&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;test&apos;.center(6, &apos;#&apos;)</span><br><span class="line">&apos;#test#&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;test&apos;.center(7, &apos;~&apos;)</span><br><span class="line">&apos;~~test~&apos;</span><br><span class="line">　　可见当左右无法均衡填充时，优先填充左侧。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">3. 计数</span><br><span class="line"></span><br><span class="line">count()</span><br><span class="line"></span><br><span class="line">s.count(sub, start=0, end=sys.maxint)</span><br><span class="line">　　统计 s[start:end] 中，子串 sub 出现的次数。</span><br></pre></td></tr></table></figure>
<h4 id="http请求头-常见的响应状态码"><a href="#http请求头-常见的响应状态码" class="headerlink" title="http请求头,常见的响应状态码"></a>http请求头,常见的响应状态码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">HTTP由两部分组成：请求和响应。当你在Web浏览器中输入一个URL时，浏览器将根据你的要求创建并发送请求，该请求包含所输入的URL以及一些与浏览器本身相关的信息。当服务器收到这个请求时将返回一个响应，该响应包括与该请求相关的信息以及位于指定URL（如果有的话）的数据。直到浏览器解析该响应并显示出网页（或其他资源）为止。</span><br><span class="line">HTTP请求</span><br><span class="line">HTTP请求的格式如下所示：</span><br><span class="line">&lt;request-line&gt;</span><br><span class="line">&lt;headers&gt;</span><br><span class="line">&lt;blank line&gt;</span><br><span class="line">[&lt;request-body&gt;]</span><br><span class="line">在HTTP请求中，第一行必须是一个请求行（request line），用来说明请求类型、要访问的资源以及使用的HTTP版本。紧接着是一个首部（header）小节，用来说明服务器要使用的附加信息。在首部之后是一个空行，再此之后可以添加任意的其他数据[称之为主体（body）]。</span><br><span class="line">在HTTP中，定义了多种请求类型，通常我们关心的只有GET请求和POST请求。只要在Web浏览器上输入一个URL，浏览器就将基于该URL向服务器发送一个GET请求，以告诉服务器获取并返回什么资源。对于www.baidu.com的GET请求如下所示：</span><br><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: www.baidu.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</span><br><span class="line">Gecko/20050225 Firefox/1.0.1</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">请求行的第一部分说明了该请求是GET请求。该行的第二部分是一个斜杠（/），用来说明请求的是该域名的根目录。该行的最后一部分说明使用的是HTTP 1.1版本（另一个可选项是1.0）。那么请求发到哪里去呢？这就是第二行的内容。</span><br><span class="line">第2行是请求的第一个首部，HOST。首部HOST将指出请求的目的地。结合HOST和上一行中的斜杠（/），可以通知服务器请求的是www.baidu.com/（HTTP 1.1才需要使用首部HOST，而原来的1.0版本则不需要使用）。第三行中包含的是首部User-Agent，服务器端和客户端脚本都能够访问它，它是浏览器类型检测逻辑的重要基础。该信息由你使用的浏览器来定义（在本例中是Firefox 1.0.1），并且在每个请求中将自动发送。最后一行是首部Connection，通常将浏览器操作设置为Keep-Alive（当然也可以设置为其他值）。注意，在最后一个首部之后有一个空行。即使不存在请求主体，这个空行也是必需的。</span><br><span class="line">要发送GET请求的参数，则必须将这些额外的信息附在URL本身的后面。其格式类似于：</span><br><span class="line">URL ? name1=value1&amp;name2=value2&amp;..&amp;nameN=valueN</span><br><span class="line">该信息称之为查询字符串（query string），它将会复制在HTTP请求的请求行中，如下所示：</span><br><span class="line">GET /books/?name=Professional%20Ajax HTTP/1.1</span><br><span class="line">Host: www.baidu.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</span><br><span class="line">Gecko/20050225 Firefox/1.0.1</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">注意，为了将文本“Professional Ajax”作为URL的参数，需要编码处理其内容，将空格替换成%20，这称为URL编码（URL encoding），常用于HTTP的许多地方（JavaScript提供了内建的函数来处理URL编码和解码）。“名称—值”（name—value）对用 &amp; 隔开。绝大部分的服务器端技术能够自动对请求主体进行解码，并为这些值的访问提供一些逻辑方式。当然，如何使用这些数据还是由服务器决定的。</span><br><span class="line">另一方面，POST请求在请求主体中为服务器提供了一些附加的信息。通常，当填写一个在线表单并提交它时，这些填入的数据将以POST请求的方式发送给服务器。</span><br><span class="line">以下就是一个典型的POST请求：</span><br><span class="line">POST / HTTP/1.1</span><br><span class="line">Host: www.baidu.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</span><br><span class="line">Gecko/20050225 Firefox/1.0.1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 40</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">name=Professional%20Ajax&amp;publisher=Wiley</span><br><span class="line">从上面可以发现， POST请求和GET请求之间有一些区别。首先，请求行开始处的GET改为了POST，以表示不同的请求类型。你会发现首部Host和User-Agent仍然存在，在后面有两个新行。其中首部Content-Type说明了请求主体的内容是如何编码的。浏览器始终以application/ x-www-form- urlencoded的格式编码来传送数据，这是针对简单URL编码的MIME类型。首部Content-Length说明了请求主体的字节数。在首部Connection后是一个空行，再后面就是请求主体。与大多数浏览器的POST请求一样，这是以简单的“名称—值”对的形式给出的，其中name是Professional Ajax，publisher是Wiley。你可以以同样的格式来组织URL的查询字符串参数。</span><br><span class="line">下面是一些最常见的请求头：</span><br><span class="line">    Accept：浏览器可接受的MIME类型。</span><br><span class="line">    Accept - Charset：浏览器可接受的字符集。</span><br><span class="line">    Accept - Encoding：浏览器能够进行解码的数据编码方式，比如gzip。Servlet能够向支持gzip的浏览器返回经gzip编码的HTML页面。许多情形下这可以减少5到10倍的下载时间。</span><br><span class="line">    Accept - Language：浏览器所希望的语言种类，当服务器能够提供一种以上的语言版本时要用到。</span><br><span class="line">    Authorization：授权信息，通常出现在对服务器发送的WWW - Authenticate头的应答中。</span><br><span class="line">    Connection：表示是否需要持久连接。如果Servlet看到这里的值为“Keep - Alive”，或者看到请求使用的是HTTP 1.1（HTTP 1.1默认进行持久连接），它就可以利用持久连接的优点，当页面包含多个元素时（例如Applet，图片），显著地减少下载所需要的时间。要实现这一点，Servlet需要在应答中发送一个Content - Length头，最简单的实现方法是：先把内容写入ByteArrayOutputStream，然后在正式写出内容之前计算它的大小。</span><br><span class="line">    Content - Length：表示请求消息正文的长度。</span><br><span class="line">    Cookie：这是最重要的请求头信息之一，参见后面《Cookie处理》一章中的讨论。</span><br><span class="line">    From：请求发送者的email地址，由一些特殊的Web客户程序使用，浏览器不会用到它。</span><br><span class="line">    Host：初始URL中的主机和端口。</span><br><span class="line">    If - Modified - Since：只有当所请求的内容在指定的日期之后又经过修改才返回它，否则返回304“Not Modified”应答。</span><br><span class="line">    Pragma：指定“no - cache”值表示服务器必须返回一个刷新后的文档，即使它是代理服务器而且已经有了页面的本地拷贝。</span><br><span class="line">    Referer：包含一个URL，用户从该URL代表的页面出发访问当前请求的页面。</span><br><span class="line">    User - Agent：浏览器类型，如果Servlet返回的内容与浏览器类型有关则该值非常有用。</span><br><span class="line">    UA - Pixels，UA - Color，UA - OS，UA - CPU：由某些版本的IE浏览器所发送的非标准的请求头，表示屏幕大小、颜色深度、操作系统和CPU类型。</span><br><span class="line"></span><br><span class="line">HTTP响应</span><br><span class="line">如下所示，HTTP响应的格式与请求的格式十分类似：</span><br><span class="line">&lt;status-line&gt;</span><br><span class="line">&lt;headers&gt;</span><br><span class="line">&lt;blank line&gt;</span><br><span class="line">[&lt;response-body&gt;]</span><br><span class="line">正如你所见，在响应中唯一真正的区别在于第一行中用状态信息代替了请求信息。状态行（status line）通过提供一个状态码来说明所请求的资源情况。以下就是一个HTTP响应的例子：</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Sat, 31 Dec 2005 23:59:59 GMT</span><br><span class="line">Content-Type: text/html;charset=ISO-8859-1</span><br><span class="line">Content-Length: 122</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Wrox Homepage&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- body goes here --&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">在本例中，状态行给出的HTTP状态代码是200，以及消息OK。状态行始终包含的是状态码和相应的简短消息，以避免混乱。最常用的状态码有：</span><br><span class="line">◆200 (OK): 找到了该资源，并且一切正常。</span><br><span class="line">◆304 (NOT MODIFIED): 该资源在上次请求之后没有任何修改。这通常用于浏览器的缓存机制。</span><br><span class="line">◆401 (UNAUTHORIZED): 客户端无权访问该资源。这通常会使得浏览器要求用户输入用户名和密码，以登录到服务器。</span><br><span class="line">◆403 (FORBIDDEN): 客户端未能获得授权。这通常是在401之后输入了不正确的用户名或密码。</span><br><span class="line">◆404 (NOT FOUND): 在指定的位置不存在所申请的资源。</span><br></pre></td></tr></table></figure>
<h4 id="js-window-onload-和-jq-ready-函数有何不同"><a href="#js-window-onload-和-jq-ready-函数有何不同" class="headerlink" title="js window.onload 和 jq ready 函数有何不同"></a>js window.onload 和 jq ready 函数有何不同</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.执行时间 </span><br><span class="line"></span><br><span class="line">        window.onload必须等到页面内包括图片的所有元素加载完毕后才能执行。 </span><br><span class="line">        $(document).ready()是DOM结构绘制完毕后就执行，不必等到加载完毕。 </span><br><span class="line"></span><br><span class="line">2.编写个数不同 </span><br><span class="line"></span><br><span class="line">         window.onload不能同时编写多个，如果有多个window.onload方法，只会执行一个 </span><br><span class="line">         $(document).ready()可以同时编写多个，并且都可以得到执行 </span><br><span class="line"></span><br><span class="line">3.简化写法 </span><br><span class="line"></span><br><span class="line">         window.onload没有简化写法 </span><br><span class="line">         $(document).ready(function()&#123;&#125;)可以简写成$(function()&#123;&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="jq-选中所有段落内部的div标签"><a href="#jq-选中所有段落内部的div标签" class="headerlink" title="jq 选中所有段落内部的div标签"></a>jq 选中所有段落内部的div标签</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">子元素选择器（&gt;），例如 $(&quot;div&gt;img&quot;) 获取div下的img子元素；</span><br><span class="line">遍历函数children()，例如 $(&quot;div&quot;).children(&quot;img&quot;) 同样是获取div下的img子元素。</span><br><span class="line">如果想要获取DIV下的不仅是子元素，而且还包括其他后代元素（孙辈、曾孙辈元素...），那么，相应的两种方法是：</span><br><span class="line"></span><br><span class="line">后代元素选择器（空格），例如 $(&quot;div img&quot;)  获取div下的所有级别的img后代元素；</span><br><span class="line">遍历函数find()，例如 $(&quot;div&quot;).find(&quot;img&quot;)  获取div下的所有级别的ing后代子元素。</span><br></pre></td></tr></table></figure>
<h4 id="jq-的选择器"><a href="#jq-的选择器" class="headerlink" title="jq 的选择器"></a>jq 的选择器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">jQuery 的选择器可谓之强大无比，这里简单地总结一下常用的元素查找方法 </span><br><span class="line"></span><br><span class="line">$(&quot;#myELement&quot;)    选择id值等于myElement的元素，id值不能重复在文档中只能有一个id值是myElement所以得到的是唯一的元素 </span><br><span class="line">$(&quot;div&quot;)           选择所有的div标签元素，返回div元素数组 </span><br><span class="line">$(&quot;.myClass&quot;)      选择使用myClass类的css的所有元素 </span><br><span class="line">$(&quot;*&quot;)             选择文档中的所有的元素，可以运用多种的选择方式进行联合选择：例如$(&quot;#myELement,div,.myclass&quot;) </span><br><span class="line"></span><br><span class="line">层叠选择器： </span><br><span class="line">$(&quot;form input&quot;)         选择所有的form元素中的input元素 </span><br><span class="line">$(&quot;#main &gt; *&quot;)          选择id值为main的所有的子元素 </span><br><span class="line">$(&quot;label + input&quot;)     选择所有的label元素的下一个input元素节点，经测试选择器返回的是label标签后面直接跟一个input标签的所有input标签元素 </span><br><span class="line">$(&quot;#prev ~ div&quot;)       同胞选择器，该选择器返回的为id为prev的标签元素的所有的属于同一个父元素的div标签 </span><br><span class="line"></span><br><span class="line">基本过滤选择器： </span><br><span class="line">$(&quot;tr:first&quot;)               选择所有tr元素的第一个 </span><br><span class="line">$(&quot;tr:last&quot;)                选择所有tr元素的最后一个 </span><br><span class="line">$(&quot;input:not(:checked) + span&quot;)   </span><br><span class="line"></span><br><span class="line">过滤掉：checked的选择器的所有的input元素 </span><br><span class="line"></span><br><span class="line">$(&quot;tr:even&quot;)               选择所有的tr元素的第0，2，4... ...个元素（注意：因为所选择的多个元素时为数组，所以序号是从0开始） </span><br><span class="line"></span><br><span class="line">$(&quot;tr:odd&quot;)                选择所有的tr元素的第1，3，5... ...个元素 </span><br><span class="line">$(&quot;td:eq(2)&quot;)             选择所有的td元素中序号为2的那个td元素 </span><br><span class="line">$(&quot;td:gt(4)&quot;)             选择td元素中序号大于4的所有td元素 </span><br><span class="line">$(&quot;td:ll(4)&quot;)              选择td元素中序号小于4的所有的td元素 </span><br><span class="line">$(&quot;:header&quot;) </span><br><span class="line">$(&quot;div:animated&quot;) </span><br><span class="line">内容过滤选择器： </span><br><span class="line"></span><br><span class="line">$(&quot;div:contains(&apos;John&apos;)&quot;) 选择所有div中含有John文本的元素 </span><br><span class="line">$(&quot;td:empty&quot;)           选择所有的为空（也不包括文本节点）的td元素的数组 </span><br><span class="line">$(&quot;div:has(p)&quot;)        选择所有含有p标签的div元素 </span><br><span class="line">$(&quot;td:parent&quot;)          选择所有的以td为父节点的元素数组 </span><br><span class="line">可视化过滤选择器： </span><br><span class="line"></span><br><span class="line">$(&quot;div:hidden&quot;)        选择所有的被hidden的div元素 </span><br><span class="line">$(&quot;div:visible&quot;)        选择所有的可视化的div元素 </span><br><span class="line">属性过滤选择器： </span><br><span class="line"></span><br><span class="line">$(&quot;div[id]&quot;)              选择所有含有id属性的div元素 </span><br><span class="line">$(&quot;input[name=&apos;newsletter&apos;]&quot;)    选择所有的name属性等于&apos;newsletter&apos;的input元素 </span><br><span class="line"></span><br><span class="line">$(&quot;input[name!=&apos;newsletter&apos;]&quot;) 选择所有的name属性不等于&apos;newsletter&apos;的input元素 </span><br><span class="line"></span><br><span class="line">$(&quot;input[name^=&apos;news&apos;]&quot;)         选择所有的name属性以&apos;news&apos;开头的input元素 </span><br><span class="line">$(&quot;input[name$=&apos;news&apos;]&quot;)         选择所有的name属性以&apos;news&apos;结尾的input元素 </span><br><span class="line">$(&quot;input[name*=&apos;man&apos;]&quot;)          选择所有的name属性包含&apos;news&apos;的input元素 </span><br><span class="line"></span><br><span class="line">$(&quot;input[id][name$=&apos;man&apos;]&quot;)    可以使用多个属性进行联合选择，该选择器是得到所有的含有id属性并且那么属性以man结尾的元素 </span><br><span class="line"></span><br><span class="line">子元素过滤选择器： </span><br><span class="line"></span><br><span class="line">$(&quot;ul li:nth-child(2)&quot;),$(&quot;ul li:nth-child(odd)&quot;),$(&quot;ul li:nth-child(3n + 1)&quot;) </span><br><span class="line"></span><br><span class="line">$(&quot;div span:first-child&quot;)          返回所有的div元素的第一个子节点的数组 </span><br><span class="line">$(&quot;div span:last-child&quot;)           返回所有的div元素的最后一个节点的数组 </span><br><span class="line">$(&quot;div button:only-child&quot;)       返回所有的div中只有唯一一个子节点的所有子节点的数组 </span><br><span class="line"></span><br><span class="line">表单元素选择器： </span><br><span class="line"></span><br><span class="line">$(&quot;:input&quot;)                  选择所有的表单输入元素，包括input, textarea, select 和 button </span><br><span class="line"></span><br><span class="line">$(&quot;:text&quot;)                     选择所有的text input元素 </span><br><span class="line">$(&quot;:password&quot;)           选择所有的password input元素 </span><br><span class="line">$(&quot;:radio&quot;)                   选择所有的radio input元素 </span><br><span class="line">$(&quot;:checkbox&quot;)            选择所有的checkbox input元素 </span><br><span class="line">$(&quot;:submit&quot;)               选择所有的submit input元素 </span><br><span class="line">$(&quot;:image&quot;)                 选择所有的image input元素 </span><br><span class="line">$(&quot;:reset&quot;)                   选择所有的reset input元素 </span><br><span class="line">$(&quot;:button&quot;)                选择所有的button input元素 </span><br><span class="line">$(&quot;:file&quot;)                     选择所有的file input元素 </span><br><span class="line">$(&quot;:hidden&quot;)               选择所有类型为hidden的input元素或表单的隐藏域 </span><br><span class="line"></span><br><span class="line">表单元素过滤选择器： </span><br><span class="line"></span><br><span class="line">$(&quot;:enabled&quot;)             选择所有的可操作的表单元素 </span><br><span class="line">$(&quot;:disabled&quot;)            选择所有的不可操作的表单元素 </span><br><span class="line">$(&quot;:checked&quot;)            选择所有的被checked的表单元素 </span><br><span class="line">$(&quot;select option:selected&quot;) 选择所有的select 的子元素中被selected的元素 </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">选取一个 name 为”S_03_22″的input text框的上一个td的text值</span><br><span class="line">$(”input[@ name =S_03_22]“).parent().prev().text() </span><br><span class="line"></span><br><span class="line">名字以”S_”开始，并且不是以”_R”结尾的</span><br><span class="line">$(”input[@ name ^=&apos;S_&apos;]“).not(”[@ name $=&apos;_R&apos;]“) </span><br><span class="line"></span><br><span class="line">一个名为 radio_01的radio所选的值</span><br><span class="line">$(”input[@ name =radio_01][@checked]“).val();</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tonysteven.github.io/2016/12/19/data-structure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Steven Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Genesis">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/19/data-structure/" itemprop="url">
                  data_structure
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-19 15:35:05" itemprop="dateCreated datePublished" datetime="2016-12-19T15:35:05+08:00">2016-12-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-06-25 17:03:22" itemprop="dateModified" datetime="2018-06-25T17:03:22+08:00">2018-06-25</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[转载]<br>作者：LeeLom<br>链接：<a href="http://www.jianshu.com/p/7d037c332a9d" target="_blank" rel="noopener">http://www.jianshu.com/p/7d037c332a9d</a><br>來源：简书</p>
<h1 id="数据结构常见的八大排序算法（详细整理）"><a href="#数据结构常见的八大排序算法（详细整理）" class="headerlink" title="数据结构常见的八大排序算法（详细整理）"></a>数据结构常见的八大排序算法（详细整理）</h1><p><img src="http://upload-images.jianshu.io/upload_images/1156494-ab4cecff133d87b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="总"></p>
<h2 id="性能比较"><a href="#性能比较" class="headerlink" title="性能比较"></a>性能比较</h2><p><img src="http://upload-images.jianshu.io/upload_images/1156494-62f859c2ac6f95ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/630" alt="performance"></p>
<h2 id="交换排序"><a href="#交换排序" class="headerlink" title="交换排序"></a>交换排序</h2><h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p>算法思想</p>
<hr>
<p><img src="http://upload-images.jianshu.io/upload_images/1156494-2d150e5550b700fa.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/600" alt="快排"></p>
<blockquote>
<p>快速排序的基本思想：挖坑填数+分治法<br>从序列当中选择一个基准数(pivot)<br>在这里我们选择序列当中第一个数最为基准数<br>将序列当中的所有数依次遍历，比基准数大的位于其右侧，比基准数小的位于其左侧<br>重复步骤1.2，直到所有子集当中只有一个元素为止。<br>用伪代码描述如下：<br>1．i =L; j = R; 将基准数挖出形成第一个坑a[i]。<br>2．j–由后向前找比它小的数，找到后挖出此数填前一个坑a[i]中。<br>3．i++由前向后找比它大的数，找到后也挖出此数填到前一个坑a[j]中。<br>4．再重复执行2，3二步，直到i==j，将基准数填入a[i]中</p>
</blockquote>
<ul>
<li>代码实现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#快速排序</span><br><span class="line">#L：待排序的序列；start排序的开始index,end序列末尾的index</span><br><span class="line">#对于长度为length的序列：start = 0;end = length-1</span><br><span class="line">def quick_sort(L,start,end):</span><br><span class="line">    if start &lt; end:</span><br><span class="line">        i , j , pivot = start , end , L[start]</span><br><span class="line">        while i &lt; j:</span><br><span class="line">#从右开始向左寻找第一个小于pivot的值</span><br><span class="line">            while (i &lt; j) and (L[j] &gt;= pivot):</span><br><span class="line">                j = j-1</span><br><span class="line">#将小于pivot的值移到左边</span><br><span class="line">            if (i &lt; j):</span><br><span class="line">                L[i] = L[j]</span><br><span class="line">                i = i+1 </span><br><span class="line">#从左开始向右寻找第一个大于pivot的值</span><br><span class="line">            while (i &lt; j) and (L[i] &lt; pivot):</span><br><span class="line">                i = i+1</span><br><span class="line">#将大于pivot的值移到右边</span><br><span class="line">            if (i &lt; j):</span><br><span class="line">                L[j] = L[i]</span><br><span class="line">                j = j-1</span><br><span class="line">#循环结束后，说明 i=j，此时左边的值全都小于pivot,右边的值全都大于pivot</span><br><span class="line">#pivot的位置移动正确，那么此时只需对左右两侧的序列调用此函数进一步排序即可</span><br><span class="line">#递归调用函数：依次对左侧序列：从0 ~ i-1//右侧序列：从i+1 ~ end</span><br><span class="line">        L[i] = pivot</span><br><span class="line">#左侧序列继续排序</span><br><span class="line">        quick_sort(L,start,i-1)</span><br><span class="line">#右侧序列继续排序</span><br><span class="line">        quick_sort(L,i+1,end)</span><br></pre></td></tr></table></figure>
<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>算法思想</p>
<hr>
<p><img src="http://upload-images.jianshu.io/upload_images/1156494-fef2b2e3edc03289.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/600" alt="冒泡"></p>
<blockquote>
<p>冒泡排序思路比较简单：<br>将序列当中的左右元素，依次比较，保证右边的元素始终大于左边的元素；<br>（ 第一轮结束后，序列最后一个元素一定是当前序列的最大值；）<br>对序列当中剩下的n-1个元素再次执行步骤1。<br>对于长度为n的序列，一共需要执行n-1轮比较<br>（利用while循环可以减少执行次数）</p>
</blockquote>
<ul>
<li>代码实现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#冒泡排序</span><br><span class="line">def bubble_sort(L):</span><br><span class="line">    length = len(L)</span><br><span class="line">#序列长度为length，需要执行length-1轮交换</span><br><span class="line">    for x in range(1,length):</span><br><span class="line">#对于每一轮交换，都将序列当中的左右元素进行比较</span><br><span class="line">#每轮交换当中，由于序列最后的元素一定是最大的，因此每轮循环到序列未排序的位置即可</span><br><span class="line">        for i in range(0,length-x):</span><br><span class="line">            if L[i] &gt; L[i+1]:</span><br><span class="line">                temp = L[i]</span><br><span class="line">                L[i] = L[i+1]</span><br><span class="line">                L[i+1] = temp</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><hr>
<ul>
<li>算法想想:</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1156494-936d9f02b6aac880.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/594" alt="插入排序"></p>
<blockquote>
<p>直接插入排序的核心思想就是：将数组中的所有元素依次跟前面已经排好的元素相比较，如果选择的元素比已排序的元素小，则交换，直到全部元素都比较过。<br>因此，从上面的描述中我们可以发现，直接插入排序可以用两个循环完成：</p>
</blockquote>
<blockquote>
<p>第一层循环：遍历待比较的所有数组元素<br>第二层循环：将本轮选择的元素(selected)与已经排好序的元素(ordered)相比较。<br>如果：selected &gt; ordered，那么将二者交换</p>
</blockquote>
<ul>
<li>代码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#直接插入排序</span><br><span class="line">def insert_sort(L):</span><br><span class="line">    #遍历数组中的所有元素，其中0号索引元素默认已排序，因此从1开始</span><br><span class="line">    for x in range(1,len(L)):</span><br><span class="line">    #将该元素与已排序好的前序数组依次比较，如果该元素小，则交换</span><br><span class="line">    #range(x-1,-1,-1):从x-1倒序循环到0</span><br><span class="line">        for i in range(x-1,-1,-1):</span><br><span class="line">    #判断：如果符合条件则交换</span><br><span class="line">            if L[i] &gt; L[i+1]:</span><br><span class="line">                temp = L[i+1]</span><br><span class="line">                L[i+1] = L[i]</span><br><span class="line">                L[i] = temp</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><hr>
<ul>
<li>算法想想:</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1156494-80700e24aed3d83e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="希尔"></p>
<blockquote>
<p>希尔排序的算法思想：将待排序数组按照步长gap进行分组，然后将每组的元素利用直接插入排序的方法进行排序；每次将gap折半减小，循环上述操作；当gap=1时，利用直接插入，完成排序。<br>同样的：从上面的描述中我们可以发现：希尔排序的总体实现应该由三个循环完成：</p>
</blockquote>
<blockquote>
<p>第一层循环：将gap依次折半，对序列进行分组，直到gap=1<br>第二、三层循环：也即直接插入排序所需要的两次循环。具体描述见上。<br>代码</p>
</blockquote>
<ul>
<li>代码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#希尔排序</span><br><span class="line">def insert_shell(L):</span><br><span class="line">    #初始化gap值，此处利用序列长度的一般为其赋值</span><br><span class="line">    gap = (int)(len(L)/2)</span><br><span class="line">    #第一层循环：依次改变gap值对列表进行分组</span><br><span class="line">    while (gap &gt;= 1):</span><br><span class="line">    #下面：利用直接插入排序的思想对分组数据进行排序</span><br><span class="line">    #range(gap,len(L)):从gap开始</span><br><span class="line">        for x in range(gap,len(L)):</span><br><span class="line">    #range(x-gap,-1,-gap):从x-gap开始与选定元素开始倒序比较，每个比较元素之间间隔gap</span><br><span class="line">            for i in range(x-gap,-1,-gap):</span><br><span class="line">    #如果该组当中两个元素满足交换条件，则进行交换</span><br><span class="line">                if L[i] &gt; L[i+gap]:</span><br><span class="line">                    temp = L[i+gap]</span><br><span class="line">                    L[i+gap] = L[i]</span><br><span class="line">                    L[i] =temp</span><br><span class="line">    #while循环条件折半</span><br><span class="line">        gap = (int)(gap/2)</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><h3 id="简单选择排序"><a href="#简单选择排序" class="headerlink" title="简单选择排序"></a>简单选择排序</h3><ul>
<li>算法思想</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1156494-25821a7cb5aec881.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/606" alt="简单选择排序"></p>
<blockquote>
<p>简单选择排序的基本思想：比较+交换</p>
<ol>
<li>从待排序序列中，找到关键字最小的元素；<br>2.如果最小元素不是待排序序列的第一个元素，将其和第一个元素互换；<br>3.从余下的 N - 1 个元素中，找出关键字最小的元素，重复(1)、(2)步，直到排序结束。<br>因此我们可以发现，简单选择排序也是通过两层循环实现。<br>第一层循环：依次遍历序列当中的每一个元素<br>第二层循环：将遍历得到的当前元素依次与余下的元素进行比较，符合最小元素的条件，则交换。</li>
</ol>
</blockquote>
<ul>
<li>代码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 简单选择排序</span><br><span class="line">def select_sort(L):</span><br><span class="line">#依次遍历序列中的每一个元素</span><br><span class="line">    for x in range(0,len(L)):</span><br><span class="line">#将当前位置的元素定义此轮循环当中的最小值</span><br><span class="line">        minimum = L[x]</span><br><span class="line">#将该元素与剩下的元素依次比较寻找最小元素</span><br><span class="line">        for i in range(x+1,len(L)):</span><br><span class="line">            if L[i] &lt; minimum:</span><br><span class="line">                temp = L[i];</span><br><span class="line">                L[i] = minimum;</span><br><span class="line">                minimum = temp</span><br><span class="line">#将比较后得到的真正的最小值赋值给当前位置</span><br><span class="line">        L[x] = minimum</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><ul>
<li>堆的概念<br>堆：本质是一种数组对象。特别重要的一点性质：<b>任意的叶子节点小于（或大于）它所有的父节点</b>。对此，又分为大顶堆和小顶堆，大顶堆要求节点的元素都要大于其孩子，小顶堆要求节点元素都小于其左右孩子，两者对左右孩子的大小关系不做任何要求。<br>利用堆排序，就是基于大顶堆或者小顶堆的一种排序方法。下面，我们通过大顶堆来实现。</li>
</ul>
<ul>
<li>思想<blockquote>
<p>堆排序可以按照以下步骤来完成：</p>
</blockquote>
</li>
</ul>
<ol>
<li>首先将序列构建称为大顶堆；<br>（这样满足了大顶堆那条性质：位于根节点的元素一定是当前序列的最大值）<br><img src="http://upload-images.jianshu.io/upload_images/1156494-596eee6397817ca2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/664" alt="堆排序1"></li>
</ol>
<p>2.取出当前大顶堆的根节点，将其与序列末尾元素进行交换；<br>（此时：序列末尾的元素为已排序的最大值；由于交换了元素，当前位于根节点的堆并不一定满足大顶堆的性质）</p>
<p>3.对交换后的n-1个序列元素进行调整，使其满足大顶堆的性质；</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1156494-7e5c63ce1ed48ebf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/658" alt="堆排序2"></p>
<p>4.重复2.3步骤，直至堆中只有1个元素为止</p>
<ul>
<li>代码</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">#-------------------------堆排序--------------------------------</span><br><span class="line">#**********获取左右叶子节点**********</span><br><span class="line">def LEFT(i):</span><br><span class="line">    return 2*i + 1</span><br><span class="line">def RIGHT(i):</span><br><span class="line">    return 2*i + 2</span><br><span class="line">#********** 调整大顶堆 **********</span><br><span class="line">#L:待调整序列 length: 序列长度 i:需要调整的结点</span><br><span class="line">def adjust_max_heap(L,length,i):</span><br><span class="line">#定义一个int值保存当前序列最大值的下标</span><br><span class="line">    largest = i</span><br><span class="line">#执行循环操作：两个任务：1 寻找最大值的下标；2.最大值与父节点交换</span><br><span class="line">    while (1):</span><br><span class="line">#获得序列左右叶子节点的下标</span><br><span class="line">        left,right = LEFT(i),RIGHT(i)</span><br><span class="line">#当左叶子节点的下标小于序列长度 并且 左叶子节点的值大于父节点时，将左叶子节点的下标赋值给largest</span><br><span class="line">        if (left &lt; length) and (L[left] &gt; L[i]):</span><br><span class="line">            largest = left</span><br><span class="line">            print(&apos;左叶子节点&apos;)</span><br><span class="line">        else:</span><br><span class="line">            largest = i</span><br><span class="line">#当右叶子节点的下标小于序列长度 并且 右叶子节点的值大于父节点时，将右叶子节点的下标值赋值给largest</span><br><span class="line">        if (right &lt; length) and (L[right] &gt; L[largest]):</span><br><span class="line">            largest = right</span><br><span class="line">            print(&apos;右叶子节点&apos;)</span><br><span class="line">#如果largest不等于i 说明当前的父节点不是最大值，需要交换值</span><br><span class="line">        if (largest != i):</span><br><span class="line">            temp = L[i]</span><br><span class="line">            L[i] = L[largest]</span><br><span class="line">            L[largest] = temp</span><br><span class="line">            i = largest</span><br><span class="line">            print(largest)</span><br><span class="line">            continue</span><br><span class="line">        else:</span><br><span class="line">            break</span><br><span class="line">#********** 建立大顶堆 **********</span><br><span class="line">def build_max_heap(L):</span><br><span class="line">    length = len(L)</span><br><span class="line">    for x in range((int)((length-1)/2),-1,-1):</span><br><span class="line">        adjust_max_heap(L,length,x)</span><br><span class="line">#********** 堆排序 **********</span><br><span class="line">def heap_sort(L):</span><br><span class="line">#先建立大顶堆，保证最大值位于根节点；并且父节点的值大于叶子结点</span><br><span class="line">    build_max_heap(L)</span><br><span class="line">#i：当前堆中序列的长度.初始化为序列的长度</span><br><span class="line">    i = len(L)</span><br><span class="line">#执行循环：1. 每次取出堆顶元素置于序列的最后(len-1,len-2,len-3...)</span><br><span class="line">#         2. 调整堆，使其继续满足大顶堆的性质，注意实时修改堆中序列的长度</span><br><span class="line">    while (i &gt; 0):</span><br><span class="line">        temp = L[i-1]</span><br><span class="line">        L[i-1] = L[0]</span><br><span class="line">        L[0] = temp</span><br><span class="line">#堆中序列长度减1</span><br><span class="line">        i = i-1</span><br><span class="line">#调整大顶堆</span><br><span class="line">        adjust_max_heap(L,i,0)</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><ul>
<li>算法思想:</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1156494-0597aa6877e219f0.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/600" alt="归并排序"></p>
<blockquote>
<p>1.归并排序是建立在归并操作上的一种有效的排序算法，该算法是采用分治法的一个典型的应用。它的基本操作是：将已有的子序列合并，达到完全有序的序列；即先使每个子序列有序，再使子序列段间有序。</p>
</blockquote>
<blockquote>
<p>2.归并排序其实要做两件事：</p>
<ul>
<li>分解—-将序列每次折半拆分</li>
<li>合并—-将划分后的序列段两两排序合并<br>因此，归并排序实际上就是两个操作，拆分+合并</li>
</ul>
</blockquote>
<blockquote>
<p>3.如何合并？<br>L[first…mid]为第一段，L[mid+1…last]为第二段，并且两端已经有序，现在我们要将两端合成达到L[first…last]并且也有序。</p>
</blockquote>
<blockquote>
<ul>
<li>首先依次从第一段与第二段中取出元素比较，将较小的元素赋值给temp[]</li>
<li>重复执行上一步，当某一段赋值结束，则将另一段剩下的元素赋值给temp[]</li>
<li>此时将temp[]中的元素复制给L[]，则得到的L[first…last]有序</li>
</ul>
</blockquote>
<blockquote>
<p>4.如何分解？<br>在这里，我们采用递归的方法，首先将待排序列分成A,B两组；然后重复对A、B序列</p>
</blockquote>
<p>分组；直到分组后组内只有一个元素，此时我们认为组内所有元素有序，则分组结束。</p>
<ul>
<li>代码实现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># 归并排序</span><br><span class="line">#这是合并的函数</span><br><span class="line"># 将序列L[first...mid]与序列L[mid+1...last]进行合并</span><br><span class="line">def mergearray(L,first,mid,last,temp):</span><br><span class="line">#对i,j,k分别进行赋值</span><br><span class="line">    i,j,k = first,mid+1,0</span><br><span class="line">#当左右两边都有数时进行比较，取较小的数</span><br><span class="line">    while (i &lt;= mid) and (j &lt;= last):</span><br><span class="line">        if L[i] &lt;= L[j]:</span><br><span class="line">            temp[k] = L[i]</span><br><span class="line">            i = i+1</span><br><span class="line">            k = k+1</span><br><span class="line">        else:</span><br><span class="line">            temp[k] = L[j]</span><br><span class="line">            j = j+1</span><br><span class="line">            k = k+1</span><br><span class="line">#如果左边序列还有数</span><br><span class="line">    while (i &lt;= mid):</span><br><span class="line">        temp[k] = L[i]</span><br><span class="line">        i = i+1</span><br><span class="line">        k = k+1</span><br><span class="line">#如果右边序列还有数</span><br><span class="line">    while (j &lt;= last):</span><br><span class="line">        temp[k] = L[j]</span><br><span class="line">        j = j+1</span><br><span class="line">        k = k+1</span><br><span class="line">#将temp当中该段有序元素赋值给L待排序列使之部分有序</span><br><span class="line">    for x in range(0,k):</span><br><span class="line">        L[first+x] = temp[x]</span><br><span class="line"># 这是分组的函数</span><br><span class="line">def merge_sort(L,first,last,temp):</span><br><span class="line">    if first &lt; last:</span><br><span class="line">        mid = (int)((first + last) / 2)</span><br><span class="line">#使左边序列有序</span><br><span class="line">        merge_sort(L,first,mid,temp)</span><br><span class="line">#使右边序列有序</span><br><span class="line">        merge_sort(L,mid+1,last,temp)</span><br><span class="line">#将两个有序序列合并</span><br><span class="line">        mergearray(L,first,mid,last,temp)</span><br><span class="line"># 归并排序的函数</span><br><span class="line">def merge_sort_array(L):</span><br><span class="line">#声明一个长度为len(L)的空列表</span><br><span class="line">    temp = len(L)*[None]</span><br><span class="line">#调用归并排序</span><br><span class="line">    merge_sort(L,0,len(L)-1,temp)</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="基数排序"><a href="#基数排序" class="headerlink" title="基数排序"></a>基数排序</h3><ul>
<li>算法思想</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1156494-70872a75238d1269.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/619" alt="基数排序"></p>
<blockquote>
<p>1.基数排序：通过序列中各个元素的值，对排序的N个元素进行若干趟的“分配”与“收集”来实现排序。<br>分配：我们将L[i]中的元素取出，首先确定其个位上的数字，根据该数字分配到与之序号相同的桶中<br>收集：当序列中所有的元素都分配到对应的桶中，再按照顺序依次将桶中的元素收集形成新的一个待排序列L[ ]<br>对新形成的序列L[]重复执行分配和收集元素中的十位、百位…直到分配完该序列中的最高位，则排序结束<br>2.根据上述“基数排序”的展示，我们可以清楚的看到整个实现的过程</p>
</blockquote>
<ul>
<li>代码实现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#************************基数排序****************************</span><br><span class="line">#确定排序的次数</span><br><span class="line">#排序的顺序跟序列中最大数的位数相关</span><br><span class="line">def radix_sort_nums(L):</span><br><span class="line">    maxNum = L[0]</span><br><span class="line">#寻找序列中的最大数</span><br><span class="line">    for x in L:</span><br><span class="line">        if maxNum &lt; x:</span><br><span class="line">            maxNum = x</span><br><span class="line">#确定序列中的最大元素的位数</span><br><span class="line">    times = 0</span><br><span class="line">    while (maxNum &gt; 0):</span><br><span class="line">        maxNum = (int)(maxNum/10)</span><br><span class="line">        times = times+1</span><br><span class="line">    return times</span><br><span class="line">#找到num从低到高第pos位的数据</span><br><span class="line">def get_num_pos(num,pos):</span><br><span class="line">    return ((int)(num/(10**(pos-1))))%10</span><br><span class="line">#基数排序</span><br><span class="line">def radix_sort(L):</span><br><span class="line">    count = 10*[None]       #存放各个桶的数据统计个数</span><br><span class="line">    bucket = len(L)*[None]  #暂时存放排序结果</span><br><span class="line">#从低位到高位依次执行循环</span><br><span class="line">    for pos in range(1,radix_sort_nums(L)+1):</span><br><span class="line">        #置空各个桶的数据统计</span><br><span class="line">        for x in range(0,10):</span><br><span class="line">            count[x] = 0</span><br><span class="line">        #统计当前该位(个位，十位，百位....)的元素数目</span><br><span class="line">        for x in range(0,len(L)):</span><br><span class="line">            #统计各个桶将要装进去的元素个数</span><br><span class="line">            j = get_num_pos(int(L[x]),pos)</span><br><span class="line">            count[j] = count[j]+1</span><br><span class="line">        #count[i]表示第i个桶的右边界索引</span><br><span class="line">        for x in range(1,10):</span><br><span class="line">            count[x] = count[x] + count[x-1]</span><br><span class="line">        #将数据依次装入桶中</span><br><span class="line">        for x in range(len(L)-1,-1,-1):</span><br><span class="line">            #求出元素第K位的数字</span><br><span class="line">            j = get_num_pos(L[x],pos)</span><br><span class="line">            #放入对应的桶中，count[j]-1是第j个桶的右边界索引</span><br><span class="line">            bucket[count[j]-1] = L[x]</span><br><span class="line">            #对应桶的装入数据索引-1</span><br><span class="line">            count[j] = count[j]-1</span><br><span class="line">        # 将已分配好的桶中数据再倒出来，此时已是对应当前位数有序的表</span><br><span class="line">        for x in range(0,len(L)):</span><br><span class="line">            L[x] = bucket[x]</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tonysteven.github.io/2016/12/11/mysql-advanced/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Steven Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Genesis">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/11/mysql-advanced/" itemprop="url">
                  mysql_advanced
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-11 16:29:00" itemprop="dateCreated datePublished" datetime="2016-12-11T16:29:00+08:00">2016-12-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-06-25 17:03:28" itemprop="dateModified" datetime="2018-06-25T17:03:28+08:00">2018-06-25</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[TOC]</p>
<h1 id="5-MySQL高级"><a href="#5-MySQL高级" class="headerlink" title="5 MySQL高级"></a>5 MySQL高级</h1><blockquote>
<p>本节课程学习MySQL数据库的高级操作，这些操作主要是由DBA或项目经理来完成，对于初级开发人员，不需要熟练操作，这部分内容作为了解，对于未来的工作是加分项<br>账户管理：创建账户、修改密码、分配权限等<br>存储过程：创建、删除、查看存储过程<br>函数：创建、删除、查看函数，mysql中定义变量、选择语句、循环语句<br>视图：完成查询语句的封装<br>事务：保证一个业务逻辑的完整性<br>索引：对于大数据量可以提高查询速度<br>练习：根据性格测试的数据设计表，并编写创建表的脚本</p>
</blockquote>
<h2 id="账户管理"><a href="#账户管理" class="headerlink" title="账户管理"></a>账户管理</h2><blockquote>
<p>在生产环境下操作数据库时，绝对不可以使用root账户连接，而是创建特定的账户，授予这个账户特定的操作权限，然后连接进行操作，主要的操作就是数据的crud<br>MySQL账户体系：根据账户所具有的权限的不同，MySQL的账户可以分为以下几种<br>服务实例级账号：，启动了一个mysqld，即为一个数据库实例；如果某用户如root,拥有服务实例级分配的权限，那么该账号就可以删除所有的数据库、连同这些库中的表<br>数据库级别账号：对特定数据库执行增删改查的所有操作<br>数据表级别账号：对特定表执行增删改查等所有操作<br>字段级别的权限：对某些表的特定字段进行操作<br>存储程序级别的账号：对存储程序进行增删改查的操作<br>账户的操作主要包括创建账户、删除账户、修改密码、授权权限等<br>注意：进行账户操作时，需要使用root账户登录，这个账户拥有最高的实例级权限<br>下面主要演示数据库级操作权限，因为通常都使用这种方式</p>
</blockquote>
<ul>
<li><p>查看所有用户</p>
<blockquote>
<p><code>desc user\G;</code></p>
</blockquote>
</li>
<li><p>创建账户并授予权限</p>
<blockquote>
<p><code>grant 权限列表 on 数据库 to &#39;用户名&#39;@&#39;访问主机&#39; identified by &#39;密码&#39;;</code></p>
</blockquote>
</li>
<li><p>授权</p>
<blockquote>
<p><code>grant 权限名称 on 数据库 to 账户1,账户2,... with grant option;</code></p>
</blockquote>
</li>
</ul>
<p>###示例</p>
<ul>
<li>step1：使用root登录</li>
</ul>
<blockquote>
<p><code>mysql -uroot -p</code><br>回车后写密码，然后回车 </p>
</blockquote>
<ul>
<li><p>step2: </p>
</li>
<li><p>用户名为tony，密码为mysql</p>
</li>
<li><p>操作python数据库的所有对象python.*</p>
</li>
<li><p>访问主机通常使用百分号%表示此账户可以使用任何ip的主机登录访问此数据库</p>
</li>
<li><p>访问主机可以设置成localhost或具体的ip，表示只允许本机或特定主机访问</p>
<blockquote>
<p><code>grant all privileges on python.* to &#39;tony&#39;@&#39;%&#39; identified by &#39;mysql&#39;;</code></p>
</blockquote>
</li>
<li><p>查看用户有哪些权限</p>
<blockquote>
<p><code>show grant for tony</code></p>
</blockquote>
</li>
<li>step3：退出root的登录<blockquote>
<p><code>quit</code></p>
</blockquote>
</li>
</ul>
<h3 id="回收权限"><a href="#回收权限" class="headerlink" title="回收权限"></a>回收权限</h3><ul>
<li>语法如下：<blockquote>
<p><code>revoke 权限列表 on 数据库名.* from  &#39;用户名&#39;@&#39;主机&#39;;</code></p>
</blockquote>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4></li>
<li><p>step1：使用py登录后，向表classes中插入数据python3</p>
<blockquote>
<p><code>use python;
insert into classes(name) values(&#39;python3&#39;);</code></p>
</blockquote>
</li>
<li><p>step2：退出py</p>
</li>
</ul>
<blockquote>
<p><code>quit</code></p>
</blockquote>
<ul>
<li>step3：回收insert权限</li>
</ul>
<blockquote>
<p><code>revoke insert on python.* from &#39;py&#39;@&#39;%&#39;;</code></p>
</blockquote>
<ul>
<li>step4：退出root</li>
</ul>
<blockquote>
<p><code>quit</code></p>
</blockquote>
<ul>
<li>权限回收,inset失效</li>
</ul>
<h3 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h3><ul>
<li>语法1：不需登录修改密码</li>
</ul>
<blockquote>
<p><code>mysqladmin -u py -p password &#39;新密码&#39;</code><br>例：<br><code>mysqladmin -u py -p password &#39;123456&#39;</code><br>回车后写密码，然后回车 </p>
</blockquote>
<ul>
<li>语法2：使用root登录，修改mysql数据库的user表</li>
</ul>
<blockquote>
<p><code>update user set authentication_string=password(&#39;新密码&#39;) where user=&#39;用户名&#39;;</code><br>例：<br><code>update user set authentication_string=password(&#39;123&#39;) where user=&#39;py&#39;;</code><br>刷新权限：<code>flush privileges</code></p>
</blockquote>
<h3 id="删除账户"><a href="#删除账户" class="headerlink" title="删除账户"></a>删除账户</h3><ul>
<li>语法1：使用root登录</li>
</ul>
<blockquote>
<p><code>drop user &#39;用户名&#39;@&#39;主机&#39;;</code><br>例：<br><code>drop user &#39;py&#39;@&#39;%&#39;;</code></p>
</blockquote>
<ul>
<li>语法2：使用root登录，删除mysql数据库的user表中数据</li>
<li>这种方法还要删除db_mysql中的user表</li>
</ul>
<blockquote>
<p><code>delete from user where user=&#39;用户名&#39;;</code><br>例：<br><code>delete from user where user=&#39;py&#39;;</code><br>– 操作结束之后需要刷新权限<br><code>flush privileges</code></p>
</blockquote>
<h4 id="忘记-root-账户密码怎么办"><a href="#忘记-root-账户密码怎么办" class="headerlink" title="忘记 root 账户密码怎么办 !_!"></a>忘记 root 账户密码怎么办 !_!</h4><ul>
<li>去更改配置文件,实现免密登陆root账户,在重置密码</li>
</ul>
<h2 id="SQL注入攻击-数据安全"><a href="#SQL注入攻击-数据安全" class="headerlink" title="SQL注入攻击(数据安全)"></a>SQL注入攻击(数据安全)</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p><strong>SQL注入攻击是黑客对数据库进行攻击的常用手段之一。随着B/S模式应用开发的发展，使用这种模式编写应用程序的程序员也越来越多。但是由于程序员的水平及经验也参差不齐，相当大一部分程序员在编写代码的时候，没有对用户输入数据的合法性进行判断，使应用程序存在安全隐患。用户可以提交一段数据库查询代码，根据程序返回的结果，获得某些他想得知的数据，这就是所谓的SQL Injection，即SQL注入。</strong></p>
</blockquote>
<blockquote>
<p>SQL注入攻击属于数据库安全攻击手段之一，可以通过数据库安全防护技术实现有效防护，数据库安全防护技术包括：<strong>数据库漏扫、数据库加密、数据库防火墙、数据脱敏、数据库安全审计系统。</strong></p>
</blockquote>
<blockquote>
<p>SQL注入攻击会导致的数据库安全风险包括：<strong>刷库、拖库、撞库。</strong></p>
</blockquote>
<p>###刷库</p>
<blockquote>
<p>黑客通过入侵网站或内部运维人员多次从数据库中窃取新的用户资料和敏感信息的行为。<br>现在的刷库方法，从开发公司开始渗透，从分站的C段开始渗透，社工目标方公司，社工目标方管理人员（google那些ID的资料）。其中用到的东西，目标方的习惯（文件夹文件名命名习惯，目标方的重要邮箱，目标方的MSN，电话，管理人员的资料，MSN，MSN密码，目标方用的安全软件等等）大杀器我见过很多了，office系列，pdf等社工邮件，一个接一个。没有大杀器的，就用chm木马，lnk后门，自解压包，不要以为这些方法很容易识破，但就是可以。我社工国内某目标，用的就是自解压包搞掂的。</p>
</blockquote>
<h3 id="拖库"><a href="#拖库" class="headerlink" title="拖库"></a>拖库</h3><blockquote>
<p>拖库本来是数据库领域的术语，指从数据库中导出数据。到了黑客攻击泛滥的今天，它被用来指网站遭到入侵后，黑客窃取其数据库。</p>
</blockquote>
<h3 id="撞库"><a href="#撞库" class="headerlink" title="撞库"></a>撞库</h3><blockquote>
<p>撞库是黑客通过收集互联网已泄露的用户和密码信息，生成对应的字典表，尝试批量登陆其他网站后，得到一系列可以登录的用户。很多用户在不同网站使用的是相同的帐号密码，因此黑客可以通过获取用户在A网站的账户从而尝试登录B网址，这就可以理解为撞库攻击。</p>
</blockquote>
<h3 id="提及“撞库”，就不能不说“脱库”和“洗库”。"><a href="#提及“撞库”，就不能不说“脱库”和“洗库”。" class="headerlink" title="提及“撞库”，就不能不说“脱库”和“洗库”。"></a>提及“撞库”，就不能不说“脱库”和“洗库”。</h3><blockquote>
<p>在黑客术语里面，”脱库“是指黑客入侵有价值的网络站点，把注册用户的资料数据库全部盗走的行为，因为谐音，也经常被称作“脱库”，360的库带计划，奖励提交漏洞的白帽子，也是因此而得名。在取得大量的用户数据之后，黑客会通过一系列的技术手段和黑色产业链将有价值的用户数据变现，这通常也被称作“洗库”。最后黑客将得到的数据在其它网站上进行尝试登陆，叫做”撞库“，因为很多用户喜欢使用统一的用户名密码，”撞库“也可以使黑客收获颇丰。</p>
</blockquote>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><ul>
<li>语法如下<blockquote>
<p>`delimiter $$<br>create function 函数名称(参数列表) returns 返回类型<br>begin<br>sql语句<br>end</p>
</blockquote>
</li>
</ul>
<p>$$<br>delimiter ;`</p>
<ul>
<li>说明：delimiter用于设置分割符，默认为分号</li>
<li>在“sql语句”部分编写的语句需要以分号结尾，此时回车会直接执行，所以要创建存储过程前需要指定其它符号作为分割符，此处使用//，也可以使用其它字符</li>
</ul>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><ul>
<li>要求：创建函数py_trim，用于删除字符串左右两侧的空格</li>
<li><p>step1：设置分割符</p>
<blockquote>
<p><code>delimiter $$</code></p>
</blockquote>
</li>
<li><p>step2：创建函数</p>
<blockquote>
<p><code>create function py_trim(str varchar(100)) returns varchar(100)
begin
declare x varchar(100);
set x=ltrim(rtrim(str));
return x;
end
$$</code></p>
</blockquote>
</li>
<li><p>step3：还原分割符</p>
<blockquote>
<p><code>delimiter ;</code></p>
</blockquote>
</li>
</ul>
<h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><ul>
<li><p>所有函数存储在mysql数据库下的proc表中</p>
</li>
<li><p>说明：存储过程与函数都存储在proc表中，区别在type字段，func表中无数据</p>
</li>
<li><p>查看python数据库中的函数</p>
</li>
</ul>
<blockquote>
<p><code>select name,type from mysql.proc where db=&#39;python&#39;;</code> </p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20170927212229341?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdG9ueXN0ZXZlbjE5OTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="select name,type from mysql.proc where db=&#39;python&#39;;"></p>
<h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><ul>
<li>语法如下</li>
</ul>
<blockquote>
<p><code>select 函数名称(参数列表);</code></p>
</blockquote>
<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><ul>
<li>要求：调用自定义函数py_trim<blockquote>
<p><code>select py_trim(&#39; a b c &#39;);</code></p>
</blockquote>
</li>
</ul>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><ul>
<li><p>说明：函数的代码无法修改，如果不能满足要求可以删除后重新创建</p>
</li>
<li><p>语法如下</p>
</li>
</ul>
<blockquote>
<p><code>drop function 函数名称;</code></p>
</blockquote>
<h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><ul>
<li>要求：删除函数py_trim</li>
</ul>
<blockquote>
<p><code>drop function py_trim;</code></p>
</blockquote>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="临时变量"><a href="#临时变量" class="headerlink" title="临时变量"></a>临时变量</h4><ul>
<li>声明临时变量，只能在 begin … end 体重语法如下</li>
</ul>
<blockquote>
<p><code>declare 变量名 类型 default 默认值;
例：
declare x varchar(100);</code></p>
</blockquote>
<ul>
<li>设置变量值，语法如下<blockquote>
<p><code>set 变量名=值;
例：
set x=&#39;abc’;</code></p>
</blockquote>
</li>
</ul>
<h4 id="用户变量-会话变量"><a href="#用户变量-会话变量" class="headerlink" title="用户变量/会话变量"></a>用户变量/会话变量</h4><ul>
<li><p>只有在当前连接用户有效,其他连接用户无法访问</p>
</li>
<li><p>使用@标识声明用户变量</p>
</li>
<li><p>使用 select 来查看用户变量</p>
</li>
</ul>
<p><strong>定义</strong></p>
<blockquote>
<p><code>-- set @变量名 = 值;
set @age = 20;
-- 查看用户变量
select @age;
-- 但是如果在 select 语句中这么使用就会有问题, 因为 &#39;=&#39; 在 select 语句中是判断是否相等
-- mysql 使用 := 在 select 语句中表示赋值
set @maxage = 0;
select @maxage := max(age) from students;</code></p>
</blockquote>
<p>####系统变量</p>
<ul>
<li>任何一个用户都可以访问</li>
</ul>
<ul>
<li>使用 @@来标识系统变量</li>
</ul>
<ul>
<li>使用 select 来查看系统变量</li>
</ul>
<blockquote>
<p><code>-- 查询所有的系统变量
show variables;
-- 查看系统变量
select @@max_connections;
-- 当前用户/会话中修改系统变量
set max_connections = 1000;
-- 全局修改,所有的访问用户都会生效
set global max_connection = 1000;</code></p>
</blockquote>
<h3 id="综合示例"><a href="#综合示例" class="headerlink" title="综合示例"></a>综合示例</h3><ul>
<li><p>要求：定义函数odd，输出1-100间的偶数</p>
</li>
<li><p>代码 ：</p>
</li>
</ul>
<blockquote>
<p><code>delimiter $$
create function odd () returns varchar(300)
begin
declare i int default 1;
declare x varchar(300) default &#39;&#39;;
while i &lt;=100 do
if i%2=0 then
set x=concat(x,&#39; &#39;,i);
end if;
set i=i+1;
end while;
return x;
end</code></p>
</blockquote>
<blockquote>
<p><code>$$
delimiter ;</code></p>
</blockquote>
<ul>
<li>调用函数<blockquote>
<p><code>select odd();</code></p>
</blockquote>
</li>
</ul>
<blockquote>
</blockquote>
<p><img src="http://img.blog.csdn.net/20170927220426817?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdG9ueXN0ZXZlbjE5OTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="调用函数"></p>
<h2 id="刷新"><a href="#刷新" class="headerlink" title="刷新"></a>刷新</h2><blockquote>
<p><code>flush privileges;</code></p>
</blockquote>
<h2 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h2><ul>
<li><p>存储过程，也翻译为存储程序，是一条或者多条SQL语句的集合，可以视为批处理，但是其作用不仅仅局限于批处理</p>
</li>
<li><p>本节主要介绍如何创建存储过程，以及如何调用、查看、修改、删除存储过程</p>
</li>
</ul>
<ul>
<li><p>存储过程也可以调用其他存储过程</p>
</li>
<li><p>推荐阅读：<a href="http://blog.sina.com.cn/s/blog_52d20fbf0100ofd5.html" target="_blank" rel="noopener">存储过程详解</a></p>
</li>
</ul>
<h3 id="创建-1"><a href="#创建-1" class="headerlink" title="创建"></a>创建</h3><ul>
<li><p>语法如下</p>
<blockquote>
<p><code>delimiter //
create procedure 存储过程名称(参数列表)
begin
sql语句
end
//
delimiter ;</code></p>
</blockquote>
</li>
<li><p>说明：delimiter用于设置分割符，默认为分号</p>
</li>
<li><p>在“sql语句”部分编写的语句需要以分号结尾，此时回车会直接执行，所以要创建存储过程前需要指定其它符号作为分割符，此处使用//，也可以使用其它字符</p>
</li>
</ul>
<h4 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h4><ul>
<li><p>要求：创建查询过程，查询学生信息</p>
</li>
<li><p>code:</p>
<blockquote>
<p><code>delimiter //
create procedure proc_stu()
begin
select * from students;
end
//
delimiter ;</code></p>
</blockquote>
</li>
<li><p>执行效果图如下:<br><img src="http://img.blog.csdn.net/20170927222138118?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdG9ueXN0ZXZlbjE5OTY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="存储过程"></p>
</li>
</ul>
<h3 id="查看-1"><a href="#查看-1" class="headerlink" title="查看"></a>查看</h3><ul>
<li><p>所有存储过程和函数，都存储在mysql数据库下的proc表中</p>
</li>
<li><p>查看表结构</p>
</li>
<li><p>主要字段说明：</p>
<ul>
<li>name表示名称</li>
<li>type表示类型，为存储过程、函数</li>
<li>body表示正文脚本</li>
<li>db表示属于的数据库</li>
</ul>
</li>
<li><p>查看python数据库的所有存储过程</p>
<blockquote>
<p><code>select name,type,body from mysql.proc where db=&#39;python&#39;;</code></p>
</blockquote>
</li>
</ul>
<h3 id="调用-1"><a href="#调用-1" class="headerlink" title="调用"></a>调用</h3><ul>
<li>语法如下</li>
</ul>
<blockquote>
<p><code>call 存储过程(参数列表);</code></p>
</blockquote>
<ul>
<li>要求：调用存储过程proc_stu<blockquote>
<p><code>call proc_stu();</code></p>
</blockquote>
</li>
</ul>
<h3 id="删除-1"><a href="#删除-1" class="headerlink" title="删除"></a>删除</h3><ul>
<li>语法如下</li>
</ul>
<blockquote>
<p><code>drop procedure 存储过程名称;</code></p>
</blockquote>
<ul>
<li>要求：删除存储过程proc_stu<blockquote>
<p><code>drop procedure proc_stu;</code></p>
</blockquote>
</li>
</ul>
<h3 id="存储过程和函数的区别"><a href="#存储过程和函数的区别" class="headerlink" title="存储过程和函数的区别"></a>存储过程和函数的区别</h3><blockquote>
<h4 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h4><ul>
<li>存储过程和函数都是为了可重复的执行操作数据库的 sql 语句的集合.</li>
<li>存储过程和函数都是一次编译,就会被缓存起来,下次使用就直接命中缓存中已经编译好的 sql, 不需要重复编译</li>
<li>减少网络交互,减少网络访问流量</li>
</ul>
</blockquote>
<blockquote>
<h4 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h4><ul>
<li>标识符不同,函数的标识符是 function, 过程:procedure</li>
<li>函数中有返回值,且必须有返回值,而过程没有返回值,但是可以通过设置参数类型(in,out)来实现多个参数或者返回值</li>
<li>函数使用 select 调用,存储过程需要使用 call 调用</li>
<li>select 语句可以在存储过中调用,但是除了 select … into 之外的 select 语句都不能再函数中调用</li>
<li>通过 in out 参数,过程相关函数更加灵活,可以返回多个结果</li>
<li>在实际开发中根据个人喜好选择使用函数或者存储过程</li>
</ul>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tonysteven.github.io/2016/12/10/mysql-primary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Steven Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Genesis">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/12/10/mysql-primary/" itemprop="url">
                  mysql-primary
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-10 16:32:10" itemprop="dateCreated datePublished" datetime="2016-12-10T16:32:10+08:00">2016-12-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-06-25 17:03:34" itemprop="dateModified" datetime="2018-06-25T17:03:34+08:00">2018-06-25</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[TOC]</p>
<h2 id="服务器端安装"><a href="#服务器端安装" class="headerlink" title="服务器端安装"></a>服务器端安装</h2><ul>
<li>安装服务器端：在终端中输入如下命令，回车后，然后按照提示输入</li>
</ul>
<blockquote>
<p><code>sudo apt-get install mysql-server</code></p>
</blockquote>
<ul>
<li>启动服务</li>
</ul>
<blockquote>
<p><code>sudo service mysql start</code></p>
</blockquote>
<ul>
<li>停止服务</li>
</ul>
<blockquote>
<p><code>sudo service mysql stop</code></p>
</blockquote>
<ul>
<li>重启服务</li>
</ul>
<blockquote>
<p><code>sudo service mysql restart</code></p>
</blockquote>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ul>
<li><p>配置文件目录为/etc/mysql/mysql.cnf</p>
</li>
<li><p>主要配置项如下</p>
</li>
</ul>
<blockquote>
<p>bind-address表示服务器绑定的ip，默认为127.0.0.1</p>
</blockquote>
<blockquote>
<p>port表示端口，默认为3306</p>
</blockquote>
<blockquote>
<p>datadir表示数据库目录，默认为/var/lib/mysql</p>
</blockquote>
<blockquote>
<p>general_log_file表示普通日志，默认为/var/log/mysql/mysql.log</p>
</blockquote>
<blockquote>
<p>log_error表示错误日志，默认为/var/log/mysql/error.log</p>
</blockquote>
<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><h3 id="图形化界面客户端navicat"><a href="#图形化界面客户端navicat" class="headerlink" title="图形化界面客户端navicat"></a>图形化界面客户端navicat</h3><ul>
<li>进入解压的目录，运行如下命令</li>
</ul>
<blockquote>
<p><code>./start_navicat</code> </p>
</blockquote>
<ul>
<li><p>问题一：中文乱码</p>
</li>
<li><p>解决：打开start_navicat文件</p>
</li>
</ul>
<blockquote>
<p><code>将export LANG=&quot;en_US.UTF-8&quot;改为export LANG=&quot;zh_CN.UTF-8&quot;</code></p>
</blockquote>
<ul>
<li>问题二：试用期</li>
<li>解决：删除用户目录下的.navicat64目录<blockquote>
<p><code>cd ~</code></p>
</blockquote>
</li>
</ul>
<blockquote>
<p><code>rm -r .navicat64</code></p>
</blockquote>
<ul>
<li>详细连接的命令可以查看帮助文档</li>
</ul>
<h2 id="命令行连接"><a href="#命令行连接" class="headerlink" title="命令行连接"></a>命令行连接</h2><ul>
<li><p>在工作中主要使用命令操作方式，要求熟练编写</p>
</li>
<li><p>打开终端，运行命令</p>
</li>
</ul>
<blockquote>
<p><code>mysql -uroot -p
回车后输入密码</code></p>
</blockquote>
<blockquote>
<p><code>或后面直接加您的密码</code></p>
</blockquote>
<ul>
<li>登录成功后，输入如下命令查看效果</li>
</ul>
<blockquote>
<p><code>查看版本：select version();</code></p>
</blockquote>
<blockquote>
<p><code>显示当前时间：select now();</code></p>
</blockquote>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><ul>
<li>查看所有数据库</li>
</ul>
<blockquote>
<p><code>show databases;</code></p>
</blockquote>
<ul>
<li>使用数据库</li>
</ul>
<blockquote>
<p><code>use 数据库名;</code></p>
</blockquote>
<ul>
<li>查看当前使用的数据库</li>
</ul>
<blockquote>
<p><code>select database();</code></p>
</blockquote>
<ul>
<li>创建数据库</li>
</ul>
<blockquote>
<p><code>create database 数据库名 charset=utf8;</code></p>
</blockquote>
<ul>
<li>删除数据库</li>
</ul>
<blockquote>
<p><code>drop database python;</code></p>
</blockquote>
<h2 id="数据表"><a href="#数据表" class="headerlink" title="数据表"></a>数据表</h2><ul>
<li>查看当前数据库中所有表</li>
</ul>
<blockquote>
<p><code>show tables;</code></p>
</blockquote>
<ul>
<li>查看表结构</li>
</ul>
<blockquote>
<p><code>desc 表名;</code></p>
</blockquote>
<ul>
<li>创建表</li>
<li>auto_increment表示自动增长</li>
</ul>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE table_name(</span><br><span class="line">    column1 datatype contrai,</span><br><span class="line">    column2 datatype,</span><br><span class="line">    column3 datatype,</span><br><span class="line">    .....</span><br><span class="line">    columnN datatype,</span><br><span class="line">    PRIMARY KEY(one or more columns)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>`– 例：创建班级表<br>create table classes(<br>    id int unsigned auto_increment primary key not null,<br>    name varchar(10)<br>);</p>
</blockquote>
<blockquote>
<p><code>例：创建学生表
create table students(
id int unsigned primary key auto_increment not null,
    name varchar(20) default &#39;&#39;,
    age tinyint unsigned default 0,
    height decimal(5,2),
    gender enum(&#39;男&#39;,&#39;女&#39;,&#39;人妖&#39;,&#39;保密&#39;),
    cls_id int unsigned default 0
)</code></p>
</blockquote>
<ul>
<li>修改表-添加字段</li>
</ul>
<blockquote>
<p><code>alter table students add birthday datetime;</code></p>
</blockquote>
<ul>
<li>修改表-修改字段：重命名版</li>
</ul>
<blockquote>
<figure class="highlight plain"><figcaption><span>table 表名 change 原名 新名 类型及约束;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例：</span><br><span class="line">alter table students change birthday birth datetime not null;</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>修改表-修改字段：不重命名版</li>
</ul>
<blockquote>
<p>alter table 表名 modify 列名 类型及约束;</p>
</blockquote>
<blockquote>
<p>例：<br>alter table students modify birth date not null;</p>
</blockquote>
<ul>
<li>修改表-删除字段</li>
</ul>
<blockquote>
<p>alter table 表名 drop 列名;</p>
</blockquote>
<blockquote>
<p>例：<br>alter table students drop birthday;</p>
</blockquote>
<ul>
<li>查看表的创建语句</li>
</ul>
<blockquote>
<p>show create table 表名;</p>
<p>例：<br>show create table classes;</p>
</blockquote>
<h2 id="增删改查-curd"><a href="#增删改查-curd" class="headerlink" title="增删改查(curd)"></a>增删改查(curd)</h2><h3 id="查询基本使用"><a href="#查询基本使用" class="headerlink" title="查询基本使用"></a>查询基本使用</h3><ul>
<li>查询所有列 </li>
</ul>
<blockquote>
<p>select * from 表名;</p>
<p>例：<br>select * from classes;</p>
</blockquote>
<ul>
<li>查询指定列</li>
<li>可以使用as为列或表指定别名</li>
</ul>
<blockquote>
<p>select 列1,列2,… from 表名;</p>
</blockquote>
<blockquote>
<p>例：<br>select id,name from classes;</p>
</blockquote>
<h3 id="增加"><a href="#增加" class="headerlink" title="增加"></a>增加</h3><blockquote>
<p><code>insert into students values(0,’郭靖‘,1,&#39;蒙古&#39;,&#39;2016-1-2&#39;);</code></p>
</blockquote>
<blockquote>
<p>insert into classes values(0,’python1’),(0,’python2’);</p>
<p>insert into students(name) values(‘杨康’),(‘杨过’),(‘小龙女’);</p>
</blockquote>
<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><blockquote>
<p>update students set gender=0,hometown=’古墓’ where id=5;</p>
</blockquote>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><blockquote>
<p>delete from students where id=5;</p>
</blockquote>
<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><blockquote>
<p>mysqldump –uroot –p 数据库名 &gt; python.sql;</p>
</blockquote>
<h2 id="恢复"><a href="#恢复" class="headerlink" title="恢复"></a>恢复</h2><blockquote>
<p>mysql -uroot –p 新数据库名 &lt; python.sql</p>
</blockquote>
<h2 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h2><ul>
<li><p>例1：查询学生总数</p>
<blockquote>
<p>select count(*) from students;</p>
</blockquote>
</li>
<li><p>例2：查询女生的编号最大值</p>
<blockquote>
<p>select max(id) from students where gender=0;</p>
</blockquote>
</li>
<li><p>例3：查询未删除的学生最小编号</p>
<blockquote>
<p>select min(id) from students where isdelete=0;</p>
</blockquote>
</li>
<li><p>例4：查询男生的编号之和</p>
<blockquote>
<p>select sum(id) from students where gender=1;</p>
</blockquote>
</li>
<li><p>例5：查询未删除女生的编号平均值</p>
<blockquote>
<p>select avg(id) from students where isdelete=0 and gender=0;</p>
</blockquote>
</li>
</ul>
<p>##分组</p>
<ul>
<li>例1：查询男女生总数<blockquote>
<p>select gender as 性别,count(*)<br>from students<br>group by gender;</p>
</blockquote>
<h3 id="对比where与having"><a href="#对比where与having" class="headerlink" title="对比where与having"></a>对比where与having</h3></li>
<li>where是对from后面指定的表进行数据筛选，属于对原始数据的筛选</li>
<li>having是对group by的结果进行筛选</li>
</ul>
<h2 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h2><ul>
<li>语法<blockquote>
<p>select * from 表名<br>limit start,count</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>select * from students<br>where gender=1<br>limit 0,3;</p>
</blockquote>
<h2 id="子查询-sub-query"><a href="#子查询-sub-query" class="headerlink" title="子查询(sub query)"></a>子查询(sub query)</h2><h3 id="标量子查询"><a href="#标量子查询" class="headerlink" title="标量子查询"></a>标量子查询</h3><ul>
<li>查询班级学生的平均身高<blockquote>
<p>select * from students where age &gt; (select avg(age) from students);</p>
</blockquote>
</li>
</ul>
<h3 id="列级子查询"><a href="#列级子查询" class="headerlink" title="列级子查询"></a>列级子查询</h3><ul>
<li>查询还有学生在班的所有班级名字<blockquote>
<p>select name from pythons where id in (select cls_id from students);</p>
</blockquote>
</li>
</ul>
<h3 id="行级子查询"><a href="#行级子查询" class="headerlink" title="行级子查询"></a>行级子查询</h3><ul>
<li>需求: 查找班级年龄最大,身高最高的学生<blockquote>
<p>select * from students where (height,age) = (select max(height),max(age) from students);</p>
</blockquote>
</li>
</ul>
<h3 id="表级子查询"><a href="#表级子查询" class="headerlink" title="表级子查询"></a>表级子查询</h3><ul>
<li>查询学生与班级对应的信息<blockquote>
<p>select <em> from<br>(select stu.</em>,pys.name as clsname from students as stu inner join pythons as pys on stu.cls_id = pys.id)<br>as t1;</p>
</blockquote>
</li>
</ul>
<h3 id="子查询中特定关键字使用"><a href="#子查询中特定关键字使用" class="headerlink" title="子查询中特定关键字使用"></a>子查询中特定关键字使用</h3><ul>
<li><p>in </p>
</li>
<li><p>any|some </p>
</li>
</ul>
<blockquote>
<p><code>SELECT * FROM classes WHERE id = any(SELECT DISTINCT cls_id FROM students);</code></p>
</blockquote>
<ul>
<li>all </li>
</ul>
<blockquote>
<p><code>SELECT * from classes WHERE id != ALL (SELECT DISTINCT cls_id FROM students WHERE cls_id BETWEEN 2 and 4);</code></p>
</blockquote>
<p>##完整sql语句</p>
<blockquote>
<p><code>SELECT select_expr [,select_expr,...] [      
      FROM tb_name
      [WHERE 条件判断]
      [GROUP BY {col_name | postion} [ASC | DESC], ...] 
      [HAVING WHERE 条件判断]
      [ORDER BY {col_name|expr|postion} [ASC | DESC], ...]
      [ LIMIT {[offset,]rowcount | row_count OFFSET offset}]
]</code></p>
</blockquote>
<blockquote>
<p><code>select distinct *
from 表名
where ....
group by ... having ...
order by ...
limit start,count</code></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tonysteven.github.io/2016/08/13/section/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Steven Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Genesis">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/13/section/" itemprop="url">
                  section
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-08-13 15:29:15" itemprop="dateCreated datePublished" datetime="2016-08-13T15:29:15+08:00">2016-08-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-06-25 17:03:48" itemprop="dateModified" datetime="2018-06-25T17:03:48+08:00">2018-06-25</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">取一个list或tuple的部分元素是非常常见的操作。比如，一个list如下：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L = [&apos;Michael&apos;, &apos;Sarah&apos;, &apos;Tracy&apos;, &apos;Bob&apos;, &apos;Jack&apos;]</span><br><span class="line">取前3个元素，应该怎么做？</span><br><span class="line"></span><br><span class="line">笨办法：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; [L[0], L[1], L[2]]</span><br><span class="line">[&apos;Michael&apos;, &apos;Sarah&apos;, &apos;Tracy&apos;]</span><br><span class="line">之所以是笨办法是因为扩展一下，取前N个元素就没辙了。</span><br><span class="line"></span><br><span class="line">取前N个元素，也就是索引为0-(N-1)的元素，可以用循环：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; r = []</span><br><span class="line">&gt;&gt;&gt; n = 3</span><br><span class="line">&gt;&gt;&gt; for i in range(n):</span><br><span class="line">...     r.append(L[i])</span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; r</span><br><span class="line">[&apos;Michael&apos;, &apos;Sarah&apos;, &apos;Tracy&apos;]</span><br><span class="line">对这种经常取指定索引范围的操作，用循环十分繁琐，因此，Python提供了切片（Slice）操作符，能大大简化这种操作。</span><br><span class="line"></span><br><span class="line">对应上面的问题，取前3个元素，用一行代码就可以完成切片：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[0:3]</span><br><span class="line">[&apos;Michael&apos;, &apos;Sarah&apos;, &apos;Tracy&apos;]</span><br><span class="line">L[0:3]表示，从索引0开始取，直到索引3为止，但不包括索引3。即索引0，1，2，正好是3个元素。</span><br><span class="line"></span><br><span class="line">如果第一个索引是0，还可以省略：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[:3]</span><br><span class="line">[&apos;Michael&apos;, &apos;Sarah&apos;, &apos;Tracy&apos;]</span><br><span class="line">也可以从索引1开始，取出2个元素出来：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[1:3]</span><br><span class="line">[&apos;Sarah&apos;, &apos;Tracy&apos;]</span><br><span class="line">类似的，既然Python支持L[-1]取倒数第一个元素，那么它同样支持倒数切片，试试：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[-2:]</span><br><span class="line">[&apos;Bob&apos;, &apos;Jack&apos;]</span><br><span class="line">&gt;&gt;&gt; L[-2:-1]</span><br><span class="line">[&apos;Bob&apos;]</span><br><span class="line">记住倒数第一个元素的索引是-1。</span><br><span class="line"></span><br><span class="line">切片操作十分有用。我们先创建一个0-99的数列：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L = range(100)</span><br><span class="line">&gt;&gt;&gt; L</span><br><span class="line">[0, 1, 2, 3, ..., 99]</span><br><span class="line">可以通过切片轻松取出某一段数列。比如前10个数：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[:10]</span><br><span class="line">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br><span class="line">后10个数：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[-10:]</span><br><span class="line">[90, 91, 92, 93, 94, 95, 96, 97, 98, 99]</span><br><span class="line">前11-20个数：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[10:20]</span><br><span class="line">[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span><br><span class="line">前10个数，每两个取一个：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[:10:2]</span><br><span class="line">[0, 2, 4, 6, 8]</span><br><span class="line">所有数，每5个取一个：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[::5]</span><br><span class="line">[0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95]</span><br><span class="line">甚至什么都不写，只写[:]就可以原样复制一个list：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; L[:]</span><br><span class="line">[0, 1, 2, 3, ..., 99]</span><br><span class="line">tuple也是一种list，唯一区别是tuple不可变。因此，tuple也可以用切片操作，只是操作的结果仍是tuple：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; (0, 1, 2, 3, 4, 5)[:3]</span><br><span class="line">(0, 1, 2)</span><br><span class="line">字符串&apos;xxx&apos;或Unicode字符串u&apos;xxx&apos;也可以看成是一种list，每个元素就是一个字符。因此，字符串也可以用切片操作，只是操作结果仍是字符串：</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; &apos;ABCDEFG&apos;[:3]</span><br><span class="line">&apos;ABC&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;ABCDEFG&apos;[::2]</span><br><span class="line">&apos;ACEG&apos;</span><br><span class="line">在很多编程语言中，针对字符串提供了很多各种截取函数，其实目的就是对字符串切片。Python没有针对字符串的截取函数，只需要切片一个操作就可以完成，非常简单。</span><br><span class="line"></span><br><span class="line">小结</span><br><span class="line"></span><br><span class="line">有了切片操作，很多地方循环就不再需要了。Python的切片非常灵活，一行代码就可以实现很多行循环才能完成的操作。</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Steven Liu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">标签</span>
                  
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Steven Liu</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
